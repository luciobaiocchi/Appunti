<h1 id="appunti-reti">Appunti reti</h1>
<h2 id="ip-e-internet">IP e internet</h2>
<h3 id="composizione-indirizzo-ip">Composizione Indirizzo IP</h3>
<p>IP→ Progettato per funzionare a commutazione di pacchetto in modalità
connectionless.</p>
<p>identifica Host e router tramite indirizzi di lunghezza fissa,
raggruppandoli in reti IP.</p>
<div style="text-align: center;">
<img src="./img/header_ip.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="funzioni">Funzioni</h3>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr>
<th>Funzione</th>
<th>Descrizione</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Version</code></td>
<td>Indica il formato dell’intestazione, attualmente 4</td>
</tr>
<tr>
<td><code>IHL</code></td>
<td>IP header length, lunghezza dell’intestazione</td>
</tr>
<tr>
<td><code>Type of service</code></td>
<td>Tipo di servizio richiesto, usato anche come sorta di priorità</td>
</tr>
<tr>
<td><code>Total length</code></td>
<td>Lunghezza totale del datagramma</td>
</tr>
<tr>
<td><code>Identification</code></td>
<td>Valore intero che identifica univocamente il datagramma
(pacchetto)</td>
</tr>
<tr>
<td><code>Flag</code></td>
<td>Vari flag utilizzati per il controllo della frammentazione dei
pacchetti -</td>
</tr>
<tr>
<td><code>Fragment offset</code></td>
<td>Indica quale è la posizione di questo frammento nel datagramma, come
distanza in unità di 64 bit dall’inizio</td>
</tr>
</tbody>
</table>
<p><strong>Flags per la frammentazione</strong>:</p>
<ul>
<li>Bit 0: sempre 0</li>
<li>Bit 1 (DF - Don’t Fragment):
<ul>
<li>0 = si può frammentare</li>
<li>1 = non si può frammentare (nel caso fosse a 1 e fosse necessario
frammentarlo lo distruggo)</li>
</ul></li>
<li>Bit 2 (MF - More Fragments):
<ul>
<li>0 = ultimo frammento (aiuta a riordimare i paccheti in arrivo, è
tecnicamente superfluo ma ci risparmia il calcolo di vedere quanto era
lungo)</li>
<li>1 = frammento intermedio</li>
</ul></li>
</ul>
<div style="text-align: center;">
<img src="./img/flag_ip.png
" alt="Diagramma di rete" width="400">
</div>
<p><strong>Calcolo del Fragment Offset</strong>: Il datagramma è diviso
in <strong>blocchi di 8 byte (64 bit)</strong> l’offset è calcolato in
unità di 8 byte dall’inizio del datagramma originale (non ho bisogno di
mappare tutti i bit ma posso mapparli a blocchi di 8 byte per ridurre a
13 il numero di bit necessari a tenerne traccia, ciò implica che la
frammentazione non potrà mai scendere sotto i 64 bit perché non sarei
più in grado di ricomporre il pacchetto)</p>
<p><strong>Time to Live (TTL)</strong>: Imposta un limite al numero di
hop che un pacchetto può attraversare,il valore iniziale tipicamente è
64 (massimo 255) decrementato di 1 ad ogni hop quando raggiunge 0, il
pacchetto viene scartato</p>
<p>Se non posso frammentare il pacchetto lo distruggo.</p>
<p><strong>Fragment offset→</strong> indica quale è la posizione di
questo frammento (della dimensione di 8 byte , 64 bit)nel datagramma,
come distanza dall’inizio. Il numero logico del primo blocco viene
scritto nel Fragment Offset del datagramma</p>
<p><strong>Implementazione frammentazione:</strong></p>
<ul>
<li>Effettuata da qualsiasi apparato di rete dotato di protocollo.</li>
<li>I nodi intermedi non riassemblano, solo il terminale ricevente</li>
<li>Sono possibili frammentazioni multiple</li>
</ul>
<p>Grazie alla numerazione tramite offset permette di rinumerare
facilmente i segmenti.</p>
<p>La segmentazione è fondamentale perché non sempre la dimensione del
pacchetto è corretta per essere elaborata dai macchinari disponibili
sulla rete</p>
<p><strong>Riassemblaggio dei datagrammi</strong>: I frammenti possono
arrivare fuori sequenza o con tempi diversi. Il riassemblaggio avviene
solo al terminale di destinazione. Utilizza i campi
<strong>Identification</strong>, <strong>Flags</strong> e
<strong>Fragment</strong> Offset per ricostruire correttamente il
datagramma originale</p>
<div style="text-align: center;">
<img src="./img/frammentazione_ip.png
" alt="Diagramma di rete" width="400">
</div>
<p><strong>Time to travel (TTL)→</strong> max numero nodi
attraversabili</p>
<p><strong>Protocol→</strong> quale protocollo di livello superiore
appartengono i dati del datagramma</p>
<p><strong>Header checksum→</strong> controllo di errore di
intestazione. Ricalcolato da ogni nodo attraversato dal datagramma</p>
<p><strong>Source and Destination→</strong> indirizzi sorgente e
destinazione</p>
<p><strong>Options→</strong> lunghezza variabile perché contiene opzioni
relative al trasferimento</p>
<p><strong>Padding→</strong> bit inutili per fare tornare intestazione
multiplo di 32 bit</p>
<h2 id="instradamento-ip">Instradamento IP</h2>
<p><strong>Internet</strong> → rete a commutazione di pacchetto, con più
percorsi disponibili</p>
<p>Come funziona internet → Rete di reti.</p>
<h3 id="diretto">Diretto</h3>
<p>Una consegna <strong>diretta</strong> avviene quando l’IP sorgente e
destinatario sono nella stessa rete. In questo caso, il pacchetto viene
inviato utilizzando il MAC del destinatario, che viene trovato tramite
il protocollo ARP se non già noto. <strong>ARP effettua una richiesta
broadcast per associare l’IP al MAC corretto</strong>.</p>
<h3 id="indiretto">Indiretto</h3>
<p>Nella consegna <strong>indiretta</strong>, quando l’IP destinatario è
su un’altra rete, il pacchetto viene prima inviato al router della rete
sorgente. A livello di collegamento dati, il MAC sarà quello del router,
che instraderà il pacchetto verso il prossimo router fino a raggiungere
la rete di destinazione. Il TTL limita il numero massimo di salti.
<strong>Anche nei passaggi indiretti, ARP viene utilizzato per ottenere
il MAC del gateway successivo.</strong></p>
<p><strong>ICMP</strong> -&gt; internet control message protocoll</p>
<p>L’ICMP (Internet Control Message Protocol) è un protocollo di rete
utilizzato per inviare messaggi di controllo e diagnostica all’interno
di reti IP. Trasporta <strong>direttamente su ip</strong> senza un
protocollo di trasporto. Serve a segnalare errori (ad esempio, host
irraggiungibile) e a fornire informazioni sullo stato della rete. ICMP
<strong>non trasporta dati applicativi</strong>, ma aiuta a gestire la
comunicazione tra dispositivi di rete. Viene utilizzato da strumenti
come <strong>ping</strong> (per verificare la raggiungibilità di un
host) e <strong>traceroute</strong> (per tracciare il percorso dei
pacchetti). Fa parte della famiglia dei protocolli IP, operando al
livello di rete.</p>
<h3 id="network-ip-componente-elementare">Network IP → componente
elementare</h3>
<p>Isola che contiene calcolatori che fanno da <strong>Host</strong></p>
<p><strong>Gateway o Router</strong> → componenti che fanno da
ponte.</p>
<p>Ogni Network IP viene implementata con una tecnologia specifica, per
esempio :</p>
<ul>
<li>Wi-Fi</li>
<li>Ethernet, cavo breve distanza locale</li>
<li>ADSL e xDSL, cavo a media distanza</li>
<li><strong>GPRS/EDGE/LTE,</strong> radio media distanza</li>
</ul>
<p>I calcolatori di una network IP devono potersi scambiare pacchetti in
modo diretto tra di loro.</p>
<div style="text-align: center;">
<img src="./img/network_ip.png
" alt="Diagramma di rete" width="400">
</div>
<p><strong>La tecnologia IP è agnostica rispetto alla tecnologia con cui
sono realizzate le network</strong> quindi non dipende dalla tipologia
di tecnologia utilizzata</p>
<p>Quando un terminale invia un pacchetto ha due alternative:</p>
<ul>
<li>Dentro la network <strong>→</strong> <strong>Direct
delivery</strong></li>
<li>Fuori network, usando gateway <strong>→</strong> <strong>Indirect
delivery</strong></li>
</ul>
<p>La scelta è binaria, ma deve essere fatta in poco tempo.</p>
<p>Ogni nodo ha una <strong>base di dati</strong> che contiene la lista
degli ip che può raggiungere</p>
<p>I collegamenti fra router vengono visti come network</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-10-04_at_11.45.55.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="invio-pacchetto-e-semantica">Invio pacchetto e semantica</h3>
<ol type="1">
<li>Il <strong>calcolatore instrada</strong> il pacchetto verso il
router</li>
<li>il <strong>router</strong> decide che direzione seguire e
<strong>instrada nuovamente</strong> il pacchetto</li>
</ol>
<p>Un salto viene detto <strong>hop</strong></p>
<p><strong>Semantica indirizzo IP</strong> Due parti :</p>
<ul>
<li>Network ID → identifica network di appartenenza</li>
<li>Host ID → identifica l’host vero e proprio (interfaccia) contenuto
nella network</li>
</ul>
<p>Per entrambi vengono usati bit contigui.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-10-04_at_11.59.51.png
" alt="Diagramma di rete" width="400">
</div>
<p>000000 e 111111 sono due numeri speciali e non possono essere usati
come Host id</p>
<p>Per ogni elemento hardware che si connette a una rete è necessario
avere un IP</p>
<p>IP è un indirizzo locator, che indica la posizione.</p>
<p><strong>Net Mask</strong> → deve essere configurata localmente.
Calcolatori della stessa network devono avere la stessa Net Mask</p>
<h3 id="problematiche-dellip">Problematiche dell’IP</h3>
<h4 id="mobilità">Mobilità</h4>
<ul>
<li><strong>Indirizzi riferiti alla rete di appartenenza</strong>: Gli
indirizzi IP sono legati alla rete a cui appartengono. Se un host viene
spostato in un’altra rete, il suo indirizzo IP deve cambiare.</li>
<li><strong>Configurazione automatica con DHCP</strong>: Il Dynamic Host
Configuration Protocol (DHCP) permette la configurazione automatica
degli indirizzi IP, facilitando la gestione degli indirizzi in reti
dinamiche.</li>
<li><strong>Mobile IP</strong>: Mobile IP è una tecnologia che permette
agli utenti di spostarsi tra diverse reti mantenendo lo stesso indirizzo
IP, garantendo la continuità delle sessioni di rete.</li>
</ul>
<h4 id="sicurezza">Sicurezza</h4>
<ul>
<li><strong>Scarsa protezione del datagramma IP</strong>: L’intestazione
dei datagrammi IP è in chiaro, rendendo vulnerabili i dati in
transito.</li>
<li><strong>IPSec</strong>: Il protocollo IPSec può essere applicato
anche a IPv4 per migliorare la sicurezza delle comunicazioni, fornendo
autenticazione e cifratura dei dati.</li>
</ul>
<p><strong>Dimensioni delle reti prefissate</strong>: Il subnetting e il
Classless Inter-Domain Routing (CIDR) sono tecniche utilizzate per
suddividere le reti in sottoreti più piccole e per ottimizzare l’uso
degli indirizzi IP.</p>
<p><strong>Esaurimento degli indirizzi IPv4</strong>: A causa
dell’enorme diffusione di Internet, il numero di indirizzi IPv4
disponibili è insufficiente. Le reti IP private e il Network Address
Translation (NAT) sono soluzioni temporanee per mitigare questo
problema.</p>
<h3 id="dhcp-dynamic-host-configuration-protocol">1. DHCP (Dynamic Host
Configuration Protocol)</h3>
<ul>
<li><strong>Funzione</strong>: Il DHCP si occupa di assegnare
automaticamente gli indirizzi IP ai dispositivi connessi a una
rete.</li>
<li><strong>Come funziona</strong>: Quando un dispositivo si collega a
una rete, invia una richiesta di DHCP. Il server DHCP risponde con un
indirizzo IP disponibile, una subnet mask, un gateway, e altre
configurazioni di rete (come i DNS). Livello del modello OSI: Lavora a
livello Applicazione (Livello 7).</li>
<li><strong>Obiettivo</strong>: Assicurare che ogni dispositivo connesso
alla rete ottenga un indirizzo IP unico e una configurazione di rete
corretta senza la necessità di configurazioni manuali.</li>
</ul>
<h3 id="arp-address-resolution-protocol">2. ARP (Address Resolution
Protocol)</h3>
<ul>
<li><strong>Funzione</strong>: ARP è utilizzato per tradurre un
indirizzo IP in un indirizzo MAC (fisico) in una LAN.</li>
<li><strong>Come funziona</strong>: Quando un dispositivo conosce
l’indirizzo IP di un altro dispositivo nella rete locale ma non il suo
indirizzo MAC, invia una richiesta ARP in broadcast. Il dispositivo
destinatario risponde con il proprio indirizzo MAC, permettendo così la
comunicazione a livello di collegamento dati. Livello del modello OSI:
Lavora a livello Collegamento Dati (Livello 2) ma può anche interagire
con il Livello di Rete (Livello 3).</li>
<li><strong>Obiettivo</strong>: Consentire la comunicazione tra
dispositivi in una rete locale traducendo indirizzi IP in indirizzi MAC,
necessari per l’instradamento dei pacchetti a livello di collegamento
dati.</li>
</ul>
<h4 id="differenze-chiave">Differenze Chiave</h4>
<ul>
<li><strong>Funzione</strong>: DHCP assegna indirizzi IP e
configurazioni di rete, mentre ARP traduce indirizzi IP in indirizzi
MAC.</li>
<li><strong>Livello OSI</strong>: DHCP opera a livello Applicazione,
mentre ARP opera a livello Collegamento Dati.</li>
<li><strong>Ambito di utilizzo</strong>: DHCP è usato per l’assegnazione
iniziale della configurazione di rete; ARP è usato per risolvere
indirizzi IP in MAC all’interno della stessa rete locale. In sintesi,
DHCP fornisce gli indirizzi IP, mentre ARP permette di individuare
l’indirizzo MAC associato a un IP specifico per comunicare nella
LAN.</li>
</ul>
<h3 id="arp-approfondimento">ARP approfondimento</h3>
<p>Protocollo di rete utilizzato per mappare un indirizzo IP a un
indirizzo MAC corrispondente all’interno di una rete locale (LAN).
Funziona a livello <strong>2 (Data Link)</strong> e si interfaccia con
il livello <strong>3 (Rete)</strong> del modello OSI, consentendo la
comunicazione tra dispositivi in una rete Ethernet o simile.</p>
<p>Quando un dispositivo vuole comunicare con un altro sulla stessa
rete:</p>
<ol type="1">
<li>Conosce l’indirizzo IP del destinatario (ad esempio
192.168.1.2).</li>
<li>Non conosce il corrispondente indirizzo MAC, necessario per inviare
i pacchetti a livello di collegamento.</li>
<li>Usa il protocollo ARP per scoprire l’indirizzo MAC associato
all’IP.</li>
</ol>
<p>Quando un host deve inviare un pacchetto:</p>
<ol type="1">
<li><strong>Controllo della cache ARP</strong>:
<ul>
<li>L’host verifica se l’indirizzo IP è già mappato a un indirizzo MAC
nella propria cache ARP (una tabella locale).<br />
</li>
<li>Se trova un’associazione valida, utilizza l’indirizzo MAC e invia
direttamente il pacchetto.</li>
</ul></li>
<li><strong>Richiesta ARP (ARP Request)</strong>:
<ul>
<li>Se l’indirizzo non è presente nella cache, l’host genera una
richiesta ARP:
<ul>
<li>La richiesta è un messaggio broadcast inviato a <strong>tutti i
dispositivi</strong> della LAN (MAC di destinazione =
<code>FF:FF:FF:FF:FF:FF</code>).</li>
<li>Contiene l’indirizzo IP di cui si vuole conoscere il MAC.</li>
</ul></li>
</ul></li>
<li><strong>Risposta ARP (ARP Reply)</strong>: Il dispositivo con
l’indirizzo IP richiesto risponde con un messaggio unicast, fornendo il
proprio indirizzo MAC.<br />
</li>
<li><strong>Aggiornamento della cache ARP</strong>: L’host salva nella
cache l’associazione IP-MAC per usi futuri.</li>
</ol>
<h3 id="tabella-di-instradamento">Tabella di instradamento</h3>
<p>Ogni nodo, che sia un host o un router, possiede una tabella di
instradamento che descrive come gestire i pacchetti in rete. Questa
tabella contiene diverse informazioni essenziali, organizzate in cinque
colonne principali:</p>
<ol type="1">
<li><strong>Destination</strong>: Indica gli IP o i gruppi di IP
raggiungibili. in forma di singoli o insiemi</li>
<li><strong>Netmask</strong>: Specifica la netmask per interpretare
correttamente l’IP e identificare la rete.</li>
<li><strong>Gateway</strong>: Mostra l’IP del gateway successivo (o se è
l’host finale, può indicare il proprio IP o “self”).</li>
<li><strong>Interface</strong>: Definisce l’interfaccia di rete
attraverso cui inviare il pacchetto e da cui eseguire richieste ARP, se
necessario.</li>
<li><strong>Metric</strong>: Rappresenta il costo del percorso, aiutando
a scegliere il percorso migliore quando esistono più opzioni di
instradamento.</li>
</ol>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-10-23_at_13.43.14.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="table-look-up">Table look-up</h3>
<p>Per selezionare la riga corretta vengono fatti 2 passaggi:</p>
<ul>
<li>Selezione ip destinazione da <strong>datagramma</strong></li>
<li>AND bit a bit con il relativo ip attraverso la
<strong>netmask</strong> di ogni riga e viene selezionato il primo
corretto.</li>
</ul>
<p>la riga numero 1 è quella di default, perchè AND è sempre 0.0.0.0</p>
<figure>
<img src="img/Screenshot_2024-10-23_at_14.00.17.png"
alt="Screenshot 2024-10-23 at 14.00.17.png" />
<figcaption aria-hidden="true">Screenshot 2024-10-23 at
14.00.17.png</figcaption>
</figure>
<figure>
<img src="img/Screenshot_2024-10-23_at_14.35.26.png"
alt="Screenshot 2024-10-23 at 14.35.26.png" />
<figcaption aria-hidden="true">Screenshot 2024-10-23 at
14.35.26.png</figcaption>
</figure>
<p>il router ha lo stesso net-id mio e come ultimo numero ha 254, ma più
generalmente il numero massimo di host-id.</p>
<p>Qual’è la configurazione minima dell’interfaccia IP?</p>
<p>numero ip e netmask</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-10-24_at_10.33.53.png
" alt="Diagramma di rete" width="400">
</div>
<p>settando delle netmask apposite posso creare una aggregazione di
righe (aggregazione di rotte). nel caso di r2 è comodo perchè ho solo
due instradazioni possibili e posso ottimizzare gli AND da fare. Si può
fare solo se sono righe contigue.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-10-24_at_10.36.31.png
" alt="Diagramma di rete" width="400">
</div>
<p>Le righe delle tabelle di route vanno ordinate, per dare precedenza
alle route più specifiche.</p>
<h3 id="intervalli-di-indirizzi">Intervalli di indirizzi</h3>
<p><strong>Classfull vs Classless</strong> Inizialmente, gli indirizzi
IP erano suddivisi in <strong>classi</strong> (A, B, C, D, E) con
netmask implicite e fisse che limitavano la flessibilità nella gestione
degli indirizzi. Questo sistema rigido causava inefficienze e sprechi di
indirizzi. Per risolvere questi problemi, è stato introdotto il
<strong>Classless Inter-Domain Routing (CIDR)</strong>, che utilizza
netmask variabili, espresse in notazione slash (ad esempio, /24).
<strong>VANTAGGI</strong> CIDR consente una suddivisione più
<strong>efficiente</strong> e <strong>flessibile</strong> degli
indirizzi IP, supportando anche il <strong>supernetting</strong> per
ridurre la complessità delle tabelle di routing e migliorare
l’efficienza e la scalabilità della rete.</p>
<h3 id="supernetting-o-cidr">Supernetting o CIDR</h3>
<p>la soluzione è stata quella di utilizzare reti più piccole con
indirizzi consecutivi, per ottimizzare l’utilizzo degli indirizzi. Lo
stesso indirizzo può essere interpretato diversamente in base a dove si
trova nella rete, quindi le tabelle di instradamento devono</p>
<h3 id="routing-aggregato">Routing aggregato</h3>
<p>Un router aggregato è un concetto che si riferisce alla combinazione
di più router in una singola entità logica per migliorare la gestione e
l’efficienza della rete. Questo può includere tecniche come il routing
virtuale e la ridondanza</p>
<h2 id="metodologie-di-filtraggio-dei-datagrammi">Metodologie di
filtraggio dei datagrammi</h2>
<h2 id="packet-filter">Packet filter</h2>
<p>I nodi di rete eseguono delle operazioni di tipo attivo sui dati,
generalmente per scopi di filtraggio. Quindi in nodi assumono un ruolo
attivo nell’instradamento.</p>
<p><strong>Come si fa?</strong></p>
<p>l’instradamento selettivo viene fatto attraverso un packet filter,
che instrada solo alcuni pacchetti che rispettano le caratteristiche
indicate. I filtri operano a <strong>livello IP</strong>, quindi il
filtro si basa al massimo sull’header IP, es: pacchetti con questo TTl
passano e altri no. Viene fatto attraverso tabelle affiancate a tabelle
di indirizzamento.</p>
<p><strong>Che vantaggio ha ?</strong></p>
<p>dal punto di vista architetturale è in linea ai soliti protocolli
(OSI).</p>
<h3 id="statefull-packet-inspection">Statefull packet inspection</h3>
<p><img src="./img/statefull-packet-inspection.png" alt="Diagramma di rete" width="500"/></p>
<p>Utilizzano informazioni prese dagli header di livello superiore (es :
numero di porta utilizzata ecc…) Questa operazione “viola” l’idea del
protocollo iso-osi.</p>
<h3 id="application-layer-gateway-proxy">Application layer gateway
(proxy)</h3>
<p><img src="./img/ALP_proxy.png" alt="Diagramma di rete" width="500"/>
<img src="./img/ALP_proxy_2.png" alt="Diagramma di rete" width="500"/></p>
<p>Da più funzionalità possibili ma è anche il più dispendioso di tutti
perchè controlla tutto il pacchetto (livello 3 e 4). Posso anche
decidere di fare passare solo determinati protocolli (FTP HTTP)</p>
<h4 id="firewall">Firewall</h4>
<p>Protegge interno da esterno ed esterno da interno. Solitamente è una
combinazione di packet filter, statefull packet inspection, e ALG.</p>
<p><img src="./img/firewall.png" alt="Diagramma di rete" width="500"/></p>
<h4 id="nat">Nat</h4>
<p>Gateway che filtra pacchetti, statefull packet inspection tra due
network, e modifica i pacchetti modificando gli indirizzi. È un
concetto, ma ci sono molte implementazioni diverse.</p>
<p><img src="./img/Screenshot 2024-10-30 at 17.29.58_nat.png" alt="Diagramma di rete" width="500"></p>
<p>Il nat permette anche di modificare il verso dei pacchetti,
permettendo a quelli che sono dentro di parlare all’esterno, mentre
quelli all’esterno possono parlare solo se hanno ricevuto una richiesta.
Oggi è concepito come uno strumento di protezione, ma inizialmente è
nato perchè stavano finendo i numeri IP. Infatti tutti quelli che stanno
alla sinistra del NAT possono essere visti come lo stesso numero IP.
NAPT -&gt; traduce anche i nueri di porta. Esistono degli
<strong>indirizzi privati</strong>, che vengono utilizzati storicamente
solo per essere attribuiti all’interno dei NAT.</p>
<table>
<thead>
<tr>
<th>Tipo di Indirizzo</th>
<th>Descrizione</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pubblico</td>
<td>Utilizzato per comunicare su Internet</td>
</tr>
<tr>
<td>Privato</td>
<td>Utilizzato all’interno di una rete locale</td>
</tr>
</tbody>
</table>
<h2
id="instradamento-nelle-reti-a-pacchetto-e-in-internet">Instradamento
nelle reti a pacchetto e in Internet</h2>
<p>Scelta del percorso = scegliere il nodo successivo sapendo che esiste
una connessione Tutte le metodologie di instradamento si devono adattare
a modifiche della rete in due modi:</p>
<ul>
<li>dinamici -&gt; percosi aggionrati periodicamente per sopportare
anche cambiamenti repentini</li>
<li>statico -&gt; i percorsi vengono aggiornati e nel breve periodo non
cambiano</li>
</ul>
<h3 id="algoritmi-di-instradamento">Algoritmi di instradamento</h3>
<p>I nodi di commutazione per applicare l’algoritmo possono utilizzare
informazioni predisposte localente tipicamente sotto forma di
tabelle</p>
<h4 id="senza-tabella">Senza tabella</h4>
<h5 id="flooding-broadcast">Flooding (broadcast)</h5>
<p>Pro:</p>
<ul>
<li>ogni nodo ritrasmette tutte le porte in uscita ogni pacchetto
ricevuto</li>
<li>Praticamente non c’è elaborazione</li>
<li>il primo che arriva -&gt; strada più breve</li>
</ul>
<p>Contro: I pacchetti proliferano in maniera esponenziale. Soluzioni
:</p>
<ul>
<li>fare si che i pacchetti non ritornano da dove sono venuti</li>
<li>aggiungere TTl</li>
</ul>
<h5 id="random">Random</h5>
<p>Poco usato perchè poco efficiente.</p>
<h5 id="deflection-routing-hot-potato">Deflection Routing (hot
potato)</h5>
<p>Il pacchetto viene inviato all aporta con meno pacchetti in fila da
inviare. Per reti con spazio e risorse limitate. Problemi: possibili
pacchetti che girano all’infinito e potrebbero non arrivare in
ordine</p>
<h4 id="con-tabella">Con tabella</h4>
<p>instradamento principalmente statico<br />
Linee di ingresso -&gt; funzione di instradamento -&gt; linee di
uscita</p>
<p>Il pacchetto viene prima memorizzato interamente nel nodo e quindi
ritrasmesso nella direzione opportuna In generale dovrebbe esistere una
base dati per il confronto che è la tabella di instradamento</p>
<h5 id="shortest-path-routing">Shortest path routing</h5>
<p>Ogni nodo ha una lunghezza, difficoltà per attraversare due punti.
Per implementare il routing shortest path verso una qualunque
destinazione devono utilizzare:</p>
<ul>
<li>Uno o più <strong>protocolli</strong> di routing per scambiarsi
informazioni ed apprendere la topologia della rete</li>
<li>Uno o più <strong>algoritmi</strong> per il calcolo degli SP sulla
base delle informazioni ottenute</li>
</ul>
<p><img src="./img/tabella_routing_esempio_1.png" alt="Diagramma di rete" width="500"/></p>
<p>Il problema di questi algormitmi è che il tempo di convergenza è
generalmente pari al numero dei nodi della rete e non è particolarmente
conveniente. Se la rete è grande ci vuole troppo tempo, c’è la
possibilità che la rete cambi prima del tempo di convergenza. Non si
possono mandare sempre messaggi con <strong>distance vector</strong>,
per una questione di prestazioni e vengono mandati periodicamente.</p>
<h6 id="cosa-succede-se-la-rete-si-modifica">Cosa succede se la rete si
modifica?</h6>
<p><img src="./img/Screenshot_2024-11-25_at_21.19.17.png" alt="Bouncing effect" width="500"/></p>
<ul>
<li><strong>bouncing effect</strong> la convinzione che un certo router
per inviare pacchetti a un altro deve mandarli a lui e poi farseli
rispedire indietro.</li>
<li><strong>convergenza lenta</strong> la possibilità che anche in una
rete con 3 nodi ci si mettano anche 20/30 scambi di distance vector</li>
<li><strong>count to infinity</strong> nel caso di tre router collegati
in fila A–B–C.</li>
</ul>
<p>SOLUZIONI (temporanee):</p>
<ul>
<li><strong>Decidere una distanza massima</strong>, che se raggiunta
viene considerata infinito</li>
<li><strong>Triggered update</strong> -&gt; un nodo deve inviare
immediatamente notifiche ai vicini nel caso di modifiche di rete. ma
considerando il ritardo di propagazione non c’è comunque la certezza che
le informazioni arrivino in tempo</li>
<li><strong>Split horizon</strong> -&gt; nodo A dice a B tutti i nodi
che raggiunge senza passare da B</li>
</ul>
<p>ma queste soluzioni non sono complete, nel caso di reti circolari ci
sono comunque ancora errori</p>
<h3 id="routing-link-state">Routing link state</h3>
<p>L’idea è che ogni nodo conosca il grafo della rete e calcola le
tabelle di routing in modo ottimale. Sembra più difficile ma si è
verificato molto più efficacie.</p>
<ol type="1">
<li><strong>HELLO PACKET</strong> Il router scopre i vicini</li>
<li><strong>ECHO PACKET</strong> invio per stimare la distanza</li>
<li>In seguito ogni nodo costituisce i <strong>LINK STATE
PACKET</strong>, e li invia nella rete, questi pacchetti contengono la
lista dei suoi vicini e le lunghezze dei collegamenti da
raggiungere</li>
</ol>
<p>I pacchetti vengono diffusi nella rete attraverso il Flooding.</p>
<h3 id="cosa-sono-i-nodi">Cosa sono i nodi</h3>
<p>i nodi di commutazione vengono chiamati router, e si dividono in
macro famiglie:</p>
<ul>
<li><strong>SOHO</strong> (small office and home) 100 mbs, utilizzo
casalingo</li>
<li><strong>Router di accesso</strong>, molte porte non velocissime,
raccoglie gli abitanti di una certa zona</li>
<li><strong>Enterprise/campus router</strong> collegati con campus
router. Medie dimensioni, non troppe porte ma molta velocità</li>
<li><strong>Backbone router</strong>, router con poche porte con
velocità ancora più elevata e garanzie di affidabilità</li>
</ul>
<h4 id="ruolo-router">Ruolo router</h4>
<ul>
<li>routing
<ul>
<li>Scambio informazioni</li>
<li>elaborazione locale</li>
<li>popolaizone tabelle routing</li>
</ul></li>
<li>forwarding
<ul>
<li>ip</li>
<li>table lookup</li>
<li>header update</li>
</ul></li>
<li>Switch
<ul>
<li>trasferimento datagramma da input a output</li>
</ul></li>
<li>trasmissione
<ul>
<li>Trasmissione usando il mezzo fisico</li>
</ul></li>
</ul>
<h5 id="tabella-routing-e-forwarding">Tabella routing e forwarding</h5>
<p>La <strong>routing table</strong> è usata dai router per determinare
il percorso ottimale verso una destinazione, memorizzando informazioni
come reti, metriche e next-hop per ciascun possibile percorso. È il
risultato di algoritmi di routing (es. OSPF, BGP).</p>
<p>La <strong>forwarding table</strong> (o forwarding information base,
FIB) è una versione ottimizzata della routing table, usata direttamente
per inoltrare i pacchetti. Contiene solo le informazioni necessarie per
decidere il next-hop e agisce più velocemente, spesso mantenuta in
hardware.</p>
<p><strong>RIB (routing information base)</strong>, insieme di tutte le
informazioni che riguardano il routing e a cui bisogna credere. Possono
essere configurate manaualmente, staticamente o attraverso determinati
algoritmi o protocolli. la politica con cui vengon inserite le
informazioni nella rib possono essere variabili.</p>
<p>dopo il rib si applica il route selection process, per selezionare le
route migliori</p>
<p><strong>FIB (forwarding information base)</strong> in seguito si
compila la route forwarding table che contiene le informazioni filtrate
e ottimizzate</p>
<h2 id="internet-moderna">Internet moderna</h2>
<p>Insieme di sottoninsiemi (autonomus sistem), ordinati con un numero
identificativo. Si assume che valgano solo i nodi che fanno parlare un
sottoinsieme con l’esterno, e in questo modo si semplifica il grafo
della rete. Si scompone anche il problema all’interno (intra Domain)
dell’autonomus sistem e all’esterno di esso(inter Domain).</p>
<p><strong>autonomus sistem</strong> insieme di router che utilizzano
stesso protocollo di comunicazione. Oggi viene usata una terminologia
più precisa: Oggi un AS è:</p>
<ul>
<li>Un insieme di prefissi di rete IP (network IP definite secondo la
logica CIDR)</li>
<li>Gestito in modo unitario e con una ben definita politica di
routing</li>
<li>Questo significa che chi gestisce l’AS ha definito in modo chiaro al
suo interno come raggiungere le network IP</li>
</ul>
<p>Un AS importa le informazioni di routing da solo determinati AS
certificati. RADb -&gt; database contenente le politiche di routing</p>
<h2 id="isp-internet-service-provider">ISP internet service
provider</h2>
<p>Una associazione che fornisce servizi di connnettività, web e mail
hosting, registrazione e noleggio di indirizzi IP. Può essere a fini di
lucro o no e coperativa o no. Tipocamente un ISP è un AS.</p>
<p><strong>Internet region</strong> una porzione di internet contenuta
in una determinata area.</p>
<p>Tipologie di ISP:</p>
<ul>
<li>Tier 1 ISP (più grandi tipo tim, collegato a internet globale)</li>
<li>Tier 2 ISP (più piccoli che passano per tier 1 per andare a internet
globale)</li>
<li>Tier 3 o local ISP (vengono aiutati da livello 1 o 2 comprando
servizi)</li>
</ul>
<p><strong>PEERING</strong> collegamento tra ISP, con lo scopo di
scambiare servizi <strong>POP</strong> Nelle reti, un PoP (Point of
Presence) è un punto di accesso fisico che consente la connessione a una
rete, come un ISP (Internet Service Provider) o una rete aziendale.
<strong>Internet Exchange Point (IX o IXP)</strong></p>
<ul>
<li>Infrastrutture attraverso le quali gli ISP possono stabilire
relazioni di peering</li>
<li>L’IXP è costruito per permettere l’interconnessione diretta degli AS
senza utilizzare reti di terze parti</li>
<li>L’IXP fornisce soluzioni di connettività con specifiche garanzie di
qualità (disponibilità elevata, sicurezza fisica, banda garantita
ecc.)</li>
</ul>
<h3 id="igp">IGP</h3>
<p>Un IGP <strong>(Interior Gateway Protocol)</strong> è un protocollo
di routing utilizzato per instradare il traffico all’interno di un’unica
rete autonoma, chiamata AS (Autonomous System). È progettato per gestire
la comunicazione tra router appartenenti alla stessa organizzazione o
dominio amministrativo.</p>
<p>Esempi di IGP:</p>
<ul>
<li><strong>OSPF</strong> (Open Shortest Path First), basato sullo stato
dei collegamenti (link-state).</li>
<li><strong>RIP</strong> (Routing Information Protocol), basato sulla
distanza (distance-vector). Il RIP (Routing Information Protocol) è un
protocollo di routing dinamico basato sull’approccio distance-vector,
progettato per reti IP di piccole dimensioni. È uno dei protocolli di
routing più semplici ed è stato ampiamente utilizzato in passato, anche
se oggi è meno comune a causa delle sue limitazioni.</li>
<li><strong>EIGRP</strong> (Enhanced Interior Gateway Routing Protocol),
un protocollo ibrido.</li>
</ul>
<p>L’IGP si differenzia dai EGP (Exterior Gateway Protocols), come BGP
(funziona a sessioni), che gestiscono il routing tra AS differenti.</p>
<h3 id="rip-come-funziona">RIP come funziona</h3>
<p><strong>Metriche del percorso:</strong></p>
<ul>
<li><p>Utilizza il conteggio dei salti (hop count) come metrica per
determinare il percorso migliore.</p></li>
<li><p>Ogni router aggiunge un salto alla distanza e il limite massimo è
di 15 salti (il 16° indica che la destinazione è
irraggiungibile).</p></li>
</ul>
<p><strong>Scambio di informazioni:</strong></p>
<ul>
<li>Ogni router invia periodicamente (default: ogni 30 secondi) la
propria tabella di routing ai router adiacenti tramite messaggi
broadcast o multicast.</li>
<li>I router aggiornano le proprie tabelle di routing basandosi sulle
informazioni ricevute, selezionando il percorso con il minor numero di
salti.</li>
</ul>
<p><strong>Aggiornamenti periodici:</strong></p>
<ul>
<li>RIP invia aggiornamenti anche se non ci sono cambiamenti nella rete,
il che può causare overhead.</li>
</ul>
<p><strong>Meccanismi di stabilità:</strong></p>
<ul>
<li>Split horizon: Evita di pubblicizzare un percorso indietro verso il
router da cui è stato appreso.</li>
<li>Hold-down timer: Impedisce aggiornamenti troppo frequenti per
evitare instabilità.</li>
<li>Poison reverse: Annuncia che un percorso non è più raggiungibile,
impostando la metrica a 16.</li>
</ul>
<p><strong>Versioni di RIP:</strong></p>
<ul>
<li><strong>RIP v1:</strong> Supporta solo subnet classful (senza subnet
mask).</li>
<li><strong>RIP v2:</strong> <strong>Aggiunge supporto per reti
classless (CIDR)</strong>, <strong>autenticazione</strong> e
multicast.</li>
</ul>
<p><strong>Limiti di RIP:</strong></p>
<ul>
<li>Scalabilità ridotta (massimo 15 salti).</li>
<li>Lento nel convergere rispetto a protocolli più moderni come OSPF o
EIGRP.</li>
<li>Overhead causato dagli aggiornamenti periodici.</li>
</ul>
<p>Utilizzo attuale:</p>
<p>RIP è ormai superato da protocolli più efficienti e scalabili, ma
viene ancora usato in reti semplici o per scopi didattici.</p>
<h2 id="ospf-open-shortest-path-first">OSPF (Open Shortest Path
First)</h2>
<p>È un protocollo di routing dinamico utilizzato nei sistemi autonomi
per instradare i pacchetti all’interno di una rete. È uno dei più comuni
(tra gli IGP), progettati per operare all’interno di una singola
organizzazione o rete.</p>
<h3 id="caratteristiche-principali-di-ospf">Caratteristiche principali
di OSPF</h3>
<ol type="1">
<li><p><strong>Protocollo di routing a stato di collegamento
(Link-State)</strong> Un protocollo di routing a stato di collegamento
crea una mappa completa della rete, condividendo informazioni sui
collegamenti tra i router tramite pacchetti LSA. Ogni router calcola il
percorso migliore verso ogni destinazione utilizzando un algoritmo come
Dijkstra. Questo approccio garantisce una convergenza rapida,
aggiornamenti selettivi e maggiore efficienza, rendendolo ideale per
reti complesse. Esempi comuni sono OSPF e IS-IS. OSPF utilizza un
approccio basato su mappature dettagliate della rete. Ogni router crea
una rappresentazione della topologia completa e calcola i percorsi
migliori utilizzando l’algoritmo di Dijkstra.</p></li>
<li><p><strong>Routing senza classe:</strong> Supporta subnet di
dimensioni variabili grazie all’uso del VLSM (Variable Length Subnet
Mask), permettendo un uso efficiente degli indirizzi IP.</p></li>
<li><p><strong>Scalabilità:</strong> Può gestire reti grandi
suddividendole in aree gerarchiche, riducendo il carico di elaborazione
e la dimensione delle tabelle di routing.</p></li>
<li><p><strong>Convergenza rapida:</strong> Rispetto ai protocolli
basati su vettore di distanza (come RIP), OSPF converge rapidamente in
caso di cambiamenti nella rete.</p></li>
<li><p><strong>Metriche basate sulla larghezza di banda:</strong>
Determina il percorso migliore in base alla capacità di throughput dei
collegamenti, non al numero di hop.</p></li>
<li><p><strong>Aggiornamenti efficienti:</strong> Invia aggiornamenti
solo quando ci sono cambiamenti, anziché inviare l’intera tabella di
routing periodicamente.</p></li>
</ol>
<h3 id="componenti-chiave">Componenti chiave</h3>
<ul>
<li><strong>Router ID:</strong> Identificatore univoco per ogni router
nella rete OSPF. <strong>Router catalogati come:</strong>
<ul>
<li><strong>Internal Router:</strong> router interni a ciascuna
area</li>
<li><strong>Area Border Router:</strong> router che scambiano
informazioni con altre aree</li>
<li><strong>Backbone Router:</strong> router che si interfacciano con il
backbone</li>
<li><strong>AS Boundary Router:</strong> router che scambiano
informazioni con altri AS usando un protocollo EGP</li>
</ul></li>
<li><strong>Designated Router (DR):</strong> Router eletto per
centralizzare la distribuzione delle informazioni di stato dei
collegamenti.</li>
<li><strong>Backup Designated Router (BDR):</strong> Router eletto per
assumere il ruolo di DR in caso di fallimento del DR.</li>
<li><strong>Area:</strong> Una rete OSPF può essere divisa in aree per
migliorare la scalabilità e l’efficienza. Tutte le aree devono essere
connesse all’Area 0 (area backbone).</li>
<li><strong>Hello Packets:</strong> Pacchetti inviati periodicamente per
stabilire e mantenere le adiacenze tra i router.</li>
<li><strong>LSA (Link-State Advertisement):</strong> Messaggi che
trasportano informazioni sulla topologia della rete.</li>
<li><strong>Database LSDB (Link-State Database):</strong> Contiene le
informazioni sulla topologia dell’intera rete OSPF.</li>
</ul>
<div style="text-align: center;">
<p><img src="./img/Screenshot_2024-11-28_at_09.49.29.png" alt="Diagramma di rete" width="400"/></p>
</div>
<h4 id="utilizzi-principali">Utilizzi principali</h4>
<ul>
<li>Grandi reti aziendali: Dove è richiesta scalabilità e convergenza
rapida.</li>
<li>Provider di servizi Internet: Per gestione reti interne.</li>
<li>Ambienti misti: Dove si vogliono integrare diverse sottoreti con
requisiti complessi.</li>
</ul>
<p>OSPF è standardizzato dall’IETF (Internet Engineering Task Force)
come parte della famiglia di protocolli TCP/IP ed è definito nell’RFC
2328.</p>
<h4 id="configurazione-iniziale">Configurazione iniziale</h4>
<p>ogni router ha un proprio Router-id. Come eleggere un router
designato? inizialmente tutti i router si scambiano i propri vicini e
vengono scartati quelli che hanno priorità 0. Viene designato tra i
restanti quello con il numero più alto e diventa DR, quello subito dopo
diventa il backup router BDR. Il DR diventa adiacente a tutti e diventa
il punto di riferimento centrale per la distribuzione delle informazioni
di stato dei collegamenti (Link-State Advertisements, LSA) all’interno
di una rete broadcast multi-access, come una rete Ethernet.</p>
<div style="text-align: center;">
<p><img src="./img/Screenshot_2024-11-28_at_10.11.50.png
" alt="Diagramma di rete" width="400"/></p>
</div>
<h3 id="pacchetti-hello">Pacchetti HELLO</h3>
<p>I pacchetti HELLO sono inviati sulle interfacce periodicamente
secondo quanto specificato dal parametro <code>HelloInterval</code>.
Questi pacchetti permettono di:</p>
<ul>
<li><strong>Scoprire i propri vicini</strong>: Includono una lista di
tutti i vicini (Neighbor) dai quali è stato ricevuto un pacchetto HELLO
recente (cioè non più vecchio di <code>RouterDeadInterval</code>).
Questo permette di conoscere se per ciascun vicino è presente un
collegamento bidirezionale e se esso è ancora attivo.</li>
</ul>
<h3 id="campi-dei-pacchetti-hello">Campi dei Pacchetti HELLO</h3>
<ul>
<li><strong>Router Priority, Designated Router e Backup Designated
Router</strong>: Utilizzati per l’elezione di DR e BDR.</li>
<li><strong>Network Mask</strong>: Indica la maschera relativa
all’interfaccia del router (l’indirizzo è nell’header IP).</li>
<li><strong>Options</strong>: Indica se si supportano funzionalità
opzionali.</li>
</ul>
<h3 id="exchange-protocol">EXCHANGE protocol</h3>
<p>Sincronizzazione dei Link State Database</p>
<p>Una volta stabilite le adiacenze, i router adiacenti devono
sincronizzare i rispettivi Link State Database (LSDB). La procedura è
asimmetrica e prevede i seguenti passaggi:</p>
<ol type="1">
<li><strong>Stabilire Master e Slave</strong>: Si determina quale router
sarà il master e quale sarà lo slave.</li>
<li><strong>Invio dei Database Description (DD) Packets</strong>:
<ul>
<li>Il master invia pacchetti DD (Type = 2) con l’elenco dei LSA del
proprio database (tipo, età, router generatore, numero di
sequenza).</li>
</ul></li>
<li><strong>Risposta dello Slave</strong>: Lo slave risponde con
l’elenco dei LSA del suo database.</li>
<li><strong>Confronto delle Informazioni</strong>: Entrambi i router
confrontano le informazioni ottenute con quelle in proprio
possesso.</li>
<li><strong>Richiesta di LSA Meno Recenti</strong>: Se un router ha LSA
meno recenti, richiede i LSA aggiornati con un pacchetto Link State
Request (Type = 3).</li>
</ol>
<p>Questa procedura garantisce che entrambi i router abbiano una visione
coerente della topologia della rete.</p>
<h3 id="flooding-protocol">Flooding Protocol</h3>
<p>La diffusione dei LSA (Link-State Advertisements) a tutti i router
della rete avviene tramite l’invio di pacchetti Link State Update (Type
= 4) nei seguenti casi:</p>
<ul>
<li>Cambiamento nello stato di un collegamento</li>
<li>Ricezione di una Link State Request</li>
<li>Periodicamente (ogni 30 minuti)</li>
</ul>
<h4 id="modalità-di-flooding">Modalità di Flooding</h4>
<ul>
<li><strong>Flooding Efficiente</strong>: Utilizza i numeri di sequenza
dei LSA per garantire che tutti i router vedano gli aggiornamenti.</li>
<li><strong>Affidabilità</strong>: Gli aggiornamenti vengono inviati
ripetutamente finché non viene confermata la loro ricezione dai nodi
adiacenti tramite il pacchetto Link State Acknowledgment (Type =
5).</li>
</ul>
<p>Questa procedura assicura che tutti i router abbiano una visione
aggiornata e coerente della topologia della rete.</p>
<h3 id="exterior-gateway-protocols-egp">Exterior Gateway Protocols
(EGP)</h3>
<p>I protocolli di tipo EGP sono diversi da quelli di tipo IGP. Le
principali differenze e caratteristiche includono:</p>
<ul>
<li><strong>Ottimizzazione dei Percorsi</strong>: All’interno di un AS
(Autonomous System) si persegue l’ottimizzazione dei percorsi.</li>
<li><strong>Politiche di Instradamento</strong>: Nel routing tra diversi
AS, si deve tener conto delle politiche di instradamento:
<ul>
<li>Ogni AS vuole mantenere autonomia e indipendenza dagli altri.</li>
<li>Alcuni AS non permettono ad altri AS di instradare il traffico
attraverso le loro reti.</li>
<li>In alcuni casi, bisogna operare secondo accordi internazionali.</li>
</ul></li>
</ul>
<h3 id="protocolli-egp-per-internet">Protocolli EGP per Internet</h3>
<p>Due protocolli EGP per Internet:</p>
<ul>
<li><strong>Exterior Gateway Protocol (EGP)</strong></li>
<li><strong>Border Gateway Protocol (BGP)</strong></li>
</ul>
<h4 id="egp">EGP</h4>
<ul>
<li><strong>Primo protocollo di routing tra AS</strong> (anni ’80, RFC
827).</li>
<li><strong>Funzionalità principali</strong>:
<ol type="1">
<li><strong>Neighbor Acquisition</strong>: Verifica accordi per
diventare vicini.</li>
<li><strong>Neighbor Reachability</strong>: Monitora connessioni con i
vicini.</li>
<li><strong>Network Reachability</strong>: Scambia informazioni sulle
reti raggiungibili.</li>
</ol></li>
</ul>
<p>EGP è simile a un protocollo di tipo distance vector, con le seguenti
caratteristiche:</p>
<ul>
<li>Le informazioni inviate ai vicini sono sostanzialmente informazioni
di raggiungibilità.</li>
<li>Non sono specificate le regole per definire le distanze.</li>
<li>La distanza minima può non essere il criterio migliore da
seguire.</li>
</ul>
<p>Queste caratteristiche rendono EGP un protocollo semplice ma limitato
rispetto ai protocolli più moderni come BGP.</p>
<h4 id="limiti-di-egp">Limiti di EGP</h4>
<ul>
<li>Progettato per topologie specifiche (es. ARPAnet).</li>
<li>Funziona bene per topologie ad albero, non per reti a maglia
complessa.</li>
<li>Convergenza lenta e instabilità.</li>
<li>Adattamento lento alle modifiche della topologia.</li>
<li>Nessun meccanismo di sicurezza: vulnerabile a annunci falsi e guasti
dei router.</li>
</ul>
<h3 id="bgp-border-gateway-protocol">BGP: Border Gateway Protocol</h3>
<p>BGP è stato concepito come sostituto di EGP e oggi è in uso la
versione 4 (RFC 1771). I router BGP si scambiano informazioni attraverso
connessioni TCP (porta 179) chiamate sessioni BGP.</p>
<h4 id="caratteristiche-principali-di-bgp">Caratteristiche principali di
BGP</h4>
<ul>
<li><p><strong>Connessioni Affidabili</strong>: Le comunicazioni sono
affidabili grazie all’uso di TCP, con funzionalità di controllo degli
errori demandate allo strato di trasporto.</p></li>
<li><p><strong>Tipi di Sessioni BGP</strong>:</p>
<ul>
<li><strong>eBGP (External BGP)</strong>: Sessioni instaurate tra router
BGP appartenenti ad AS diversi.</li>
<li><strong>iBGP (Internal BGP)</strong>: Sessioni instaurate tra router
BGP appartenenti allo stesso AS.</li>
</ul></li>
<li><p><strong>Informazioni Scambiate</strong>: Le informazioni
riguardano la raggiungibilità di reti IP secondo lo schema classless
(CIDR).</p></li>
</ul>
<p>Queste caratteristiche rendono BGP un protocollo robusto e scalabile
per il routing tra diversi AS. Utilizza un <strong>path vector</strong>
(non predilige il percorso migliore, basato su geopolitica o accordi
commerciali ), un’evoluzione del distance vector, nel vettore dei
percorsi si elencano tutti gli AS da attraversare per raggiungere una
destinazione per evitare percorsi ciclici. Quando un router riceve un
path e c’è già lui dentro lo scarta, evitando di creare cicli.</p>
<h5 id="attributi">Attributi</h5>
<p>A ciascun path vector vengono associati degli attributi Gli attributi
BGP possono essere classificati in diverse categorie:</p>
<ul>
<li><strong>Well-known</strong>: Riconoscibili da tutte le
implementazioni BGP e devono essere inoltrati assieme al path vector
(dopo un eventuale aggiornamento).
<ul>
<li><strong>Mandatory</strong>: Devono essere presenti nel path
vector.</li>
<li><strong>Discretionary</strong>: Possono anche non essere
indicati.</li>
</ul></li>
<li><strong>Optional</strong>: Possono non essere riconosciuti da alcuni
router.
<ul>
<li><strong>Transitive</strong>: Devono essere inoltrati anche se non
riconosciuti.</li>
<li><strong>Non-transitive</strong>: Devono essere ignorati se non
riconosciuti.</li>
</ul></li>
<li><strong>Partial</strong>: Attributi optional-transitive che sono
stati ritrasmessi senza modifiche da un router perché non riconosciuti.
Indicano se un determinato path vector è stato riconosciuto o meno da
tutti i router attraversati.</li>
</ul>
<p>Queste categorie aiutano a gestire come gli attributi vengono
trattati e propagati attraverso la rete BGP.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-11-28_at_14.31.58.png" alt="Diagramma di rete" width="400">
</div>
<h2 id="commutazione-di-etichetta-mpls">Commutazione di etichetta:
MPLS</h2>
<p><strong>Router</strong></p>
<ul>
<li>Instrada i datagrammi IP
<ul>
<li>Longest prefix match</li>
<li>Shortest path routing</li>
</ul></li>
<li>Spesso implementa funzioni addizionali
<ul>
<li>packet filtering, QoS etc.</li>
</ul></li>
<li>Supporta interfacce (piano dati) e protocolli (piano di controllo)
di tipo diverso</li>
</ul>
<p><strong>Switch</strong></p>
<ul>
<li>Instradamento semplice in funzione di indirizzi statici</li>
<li>Funzionalità limitate all’instradamento delle trame</li>
<li>Supporto per un numero limitato di interfacce e di protocolli</li>
<li>Considerando il traffico smaltito il rapporto costo/prestazioni in
uno switch è migliore che in un router</li>
</ul>
<p><strong>LER label edge router</strong></p>
<ul>
<li>Router normale che però può attaccare una label</li>
</ul>
<p><strong>LPS Label Switch Path</strong></p>
<ul>
<li>È un percorso logico preconfigurato che i pacchetti seguono
attraverso la rete MPLS.</li>
</ul>
<p><strong>detti LSR, Label Switch Router</strong></p>
<ul>
<li>Ricevono trama e effettuano switch</li>
</ul>
<h3 id="label-switching">Label Switching</h3>
<p>Il label switching è una tecnica usata nelle reti (come in MPLS,
Multi-Protocol Label Switching) per instradare i dati in modo più veloce
rispetto ai metodi tradizionali basati sugli indirizzi IP.</p>
<p>Ecco come funziona in modo semplice:</p>
<p><strong>Etichetta (Label):</strong></p>
<ul>
<li>Quando un pacchetto entra nella rete, gli viene assegnata una
“etichetta” (un numero breve) che identifica il percorso che deve
seguire.</li>
</ul>
<p><strong>Switching basato sull’etichetta:</strong></p>
<ul>
<li>Ogni router (o switch) della rete non guarda l’indirizzo IP del
pacchetto, ma legge solo l’etichetta.</li>
<li>In base all’etichetta, il router sa subito dove inoltrare il
pacchetto, senza dover fare calcoli complicati.</li>
</ul>
<p><strong>Riassegnazione dell’etichetta:</strong></p>
<ul>
<li>Durante il percorso, ogni router può sostituire l’etichetta del
pacchetto con una nuova, per aggiornare le istruzioni sul percorso
successivo.</li>
</ul>
<p><strong>Rimozione dell’etichetta:</strong></p>
<ul>
<li>Alla fine del percorso, l’ultima etichetta viene rimossa e il
pacchetto continua verso la sua destinazione usando il metodo
tradizionale (indirizzo IP).</li>
</ul>
<p><strong>Vantaggi:</strong></p>
<ul>
<li>Velocità: Gli switch lavorano più velocemente perché analizzano solo
etichette, non indirizzi complessi.</li>
<li>Efficienza: Si possono creare percorsi ottimizzati per migliorare le
prestazioni della rete.</li>
<li>Flessibilità: Funziona con molti protocolli (non solo IP).</li>
</ul>
<p>In pratica, il label switching semplifica e velocizza il
trasferimento dei dati nella rete!</p>
<h3 id="label-stacking">label stacking</h3>
<p>innestare domini MPLS, simile al concetto di routing gerarchico</p>
<ul>
<li>push label, quando si entra nel dominio si aggiunge etichetta</li>
<li>pull label, si toglie etichetta quando esce dal dominio</li>
</ul>
<h3 id="label-allocation">label allocation</h3>
<p>chi decide le label? decide sempre il router a valle (il primo
router) ## Ifrastruttura regionale italiana</p>
<p>In Italia, l’infrastruttura degli AS è distribuita tra reti private,
reti pubbliche e diversi punti di interscambio fondamentali per il
traffico Internet nazionale e internazionale. Gli AS italiani sono
numerosi e variano per dimensione e scopo: dai provider di servizi
Internet (ISP) alle reti aziendali, fino alle reti gestite dalle
pubbliche amministrazioni. Due strutture cardine che facilitano
l’interconnessione e migliorano l’efficienza del traffico Internet in
Italia sono il <strong>Milan Internet Exchange (MIX)</strong> e la rete
<strong>LEPIDA</strong>.</p>
<h3 id="il-ruolo-del-mix">Il Ruolo del MIX</h3>
<p>Il MIX è uno dei più importanti punti di interscambio di traffico
Internet in Italia e uno dei maggiori a livello europeo. Situato a
Milano, permette l’interconnessione diretta tra AS di vari operatori,
riducendo la latenza e ottimizzando il routing del traffico Internet a
livello nazionale e internazionale. Il MIX è una struttura neutrale e
indipendente che offre <strong>servizi di peering pubblico e
privato</strong>, consentendo ai provider di scambiarsi traffico
direttamente. Ciò riduce la necessità di instradare il traffico verso AS
esteri, favorendo una maggiore autonomia della rete italiana e
migliorando l’efficienza di trasmissione tra reti locali. Questo snodo è
particolarmente importante per garantire la connettività tra le grandi
reti italiane e l’infrastruttura globale di Internet.</p>
<h3 id="la-rete-lepida">La Rete LEPIDA</h3>
<p>LEPIDA è una rete regionale di proprietà pubblica, gestita dalla
società Lepida S.p.A., che supporta il sistema di interconnessione
digitale per le pubbliche amministrazioni dell’Emilia-Romagna. Nasce con
l’obiettivo di interconnettere le amministrazioni pubbliche regionali,
migliorando la qualità dei servizi digitali rivolti ai cittadini e
garantendo la sicurezza e la gestione diretta delle reti di pubblica
utilità. LEPIDA opera anche come AS e stabilisce connessioni con altri
AS nazionali e internazionali, facilitando l’accesso a risorse e servizi
pubblici in tutta Italia. Grazie a LEPIDA, la Regione Emilia-Romagna
gode di un’infrastruttura autonoma e indipendente, riducendo la
dipendenza da operatori privati e aumentando la resilienza della rete
regionale.</p>
<p>In questo scenario, MIX e LEPIDA contribuiscono a una maggiore
autonomia della rete italiana. Il MIX facilita l’interconnessione tra
grandi reti commerciali e nazionali, mentre LEPIDA supporta
un’infrastruttura dedicata alla pubblica amministrazione, assicurando
una comunicazione efficiente e sicura per il settore pubblico e
migliorando il servizio per i cittadini e le imprese a livello
regionale.</p>
<h2 id="virtualizzazione-di-rete">Virtualizzazione di Rete</h2>
<p>La virtualizzazione di rete permette la creazione di <strong>versioni
virtuali di infrastrutture di computazione, memorizzazione e
reti</strong>, realizzando componenti che si comportano come sistemi
software indipendenti dall’hardware fisico. Questo approccio garantisce
vantaggi significativi come la condivisione delle risorse fisiche e il
disaccoppiamento tra progetto software e hardware, migliorando
flessibilità, mobilità e scalabilità. Tuttavia, la virtualizzazione
comporta criticità legate alla sicurezza e all’isolamento dei sistemi
che condividono lo stesso hardware fisico.</p>
<p><strong>Obiettivo e Tecniche della Virtualizzazione di Rete</strong>:
La virtualizzazione di rete risponde alla crescente complessità dei
requisiti di servizio dell’utenza, consentendo di realizzare topologie o
funzionalità su infrastrutture esistenti, altrimenti difficili da
modificare. Questo approccio spesso si basa su <strong>reti
overlay</strong>, ovvero reti logiche sovrapposte all’infrastruttura
fisica per creare funzionalità aggiuntive, le network IP nel loro
piccolo ne sono un esempio. Tra le tecnologie che consentono questo tipo
di virtualizzazione troviamo <strong>VLAN (IEEE 802.1Q)</strong>,
<strong>GRE (RFC 1701)</strong>, <strong>VXLAN (RFC 7348)</strong> e
<strong>VPN</strong>, che rappresentano alcune delle soluzioni per
segmentare, incapsulare e isolare il traffico di rete virtuale.</p>
<h3 id="gre">GRE</h3>
<p><strong>Un tunnel GRE</strong> (Generic Routing Encapsulation) è un
protocollo di tunneling usato per incapsulare una varietà di protocolli
di rete all’interno di una connessione IP.</p>
<p>Come funziona:</p>
<ol type="1">
<li>Encapsulamento: I dati originali (pacchetti) vengono racchiusi in un
nuovo header GRE.</li>
<li>Trasporto: Il pacchetto incapsulato viene inviato attraverso una
rete IP.</li>
<li>Decapsulamento: Il router di destinazione rimuove l’header GRE e
consegna il pacchetto originale.</li>
</ol>
<p>Caratteristiche principali:</p>
<ul>
<li><strong>Flessibilità</strong>: Supporta diversi protocolli (IPv4,
IPv6, MPLS).</li>
<li><strong>Indipendenza</strong>: Funziona sopra un’infrastruttura IP
senza modifiche.</li>
<li><strong>Overhead</strong>: Aggiunge un piccolo sovraccarico ai
pacchetti per includere l’header GRE.</li>
</ul>
<p>Utilizzi comuni:</p>
<ul>
<li>Creazione di VPN semplici (ma senza crittografia).</li>
<li>Collegamento di reti separate (ad esempio, reti aziendali
remote).</li>
<li>Trasporto di protocolli che non possono essere instradati
direttamente su IP.</li>
</ul>
<p>Se viene modificata la rete fisica non c’è modifica nella rete
logica.</p>
<p><strong>L’header GRE</strong> è una struttura di dati utilizzata per
incapsulare pacchetti all’interno di un tunnel GRE. Serve a fornire le
informazioni necessarie per gestire il pacchetto incapsulato durante il
suo transito attraverso la rete.</p>
<p><strong>Struttura dell’header GRE base</strong> L’header base di GRE
è lungo 4 byte (32 bit) e contiene i seguenti campi principali:</p>
<ol type="1">
<li><p>Flags e Version (16 bit):</p>
<ul>
<li>C (Checksum Present): Indica se un checksum è incluso (1 =
presente).</li>
<li>K (Key Present): Indica se un campo di chiave è presente per
identificare il tunnel.</li>
<li>S (Sequence Number Present): Indica se un numero di sequenza è
incluso.</li>
<li>Version: Solitamente impostato a 0 per GRE standard.</li>
</ul></li>
<li><p>Protocol Type (16 bit):</p>
<ul>
<li>Specifica il tipo di protocollo incapsulato (es. 0x0800 per IPv4,
0x86DD per IPv6).</li>
</ul></li>
</ol>
<p><strong>Header GRE opzionale</strong> A seconda delle impostazioni,
possono essere aggiunti altri campi:</p>
<ul>
<li>Checksum (32 bit): Per verificare l’integrità del pacchetto.</li>
<li>Key (32 bit): Per identificare il tunnel o la sessione.</li>
<li>Sequence Number (32 bit): Per garantire l’ordine dei pacchetti.</li>
</ul>
<p>Funzionamento</p>
<ol type="1">
<li>Il router sorgente aggiunge un header GRE al pacchetto
originale.</li>
<li>Il pacchetto incapsulato viene inviato attraverso il tunnel
GRE.</li>
<li>Il router di destinazione legge l’header GRE, estrae il pacchetto
originale e lo consegna alla rete di destinazione.</li>
</ol>
<p>GRE è semplice e flessibile, ma non offre crittografia o meccanismi
di sicurezza avanzati. Per proteggere i dati, può essere combinato con
protocolli come IPsec.</p>
<figure>
<img src="img/gre.PNG" alt="gre" />
<figcaption aria-hidden="true">gre</figcaption>
</figure>
<h3 id="vxlan">VXLAN</h3>
<p><strong>VXLAN (Virtual eXtensible LAN)</strong>: VXLAN, ampiamente
usato nel cloud computing, consente l’incapsulamento di traffico Layer 2
in pacchetti UDP, garantendo un isolamento scalabile con identificatori
unici per ciascun segmento. Creado un tunnel VXLAN ottengo la fusione di
2 LAN distinte dato che grazie al tunnel esse <strong>risponderanno alla
stessa ARP request</strong>. Il tunnel VXLAN funziona incapsulando i
frame Ethernet in pacchetti UDP, che vengono poi trasmessi attraverso
una rete IP. Ogni segmento VXLAN è identificato da un <strong>VXLAN
Network Identifier (VNI)</strong>, che consente di isolare il traffico
tra diversi segmenti. I dispositivi che terminano i tunnel VXLAN, noti
come <strong>VXLAN Tunnel Endpoints (VTEP)</strong>, aggiungono e
rimuovono l’incapsulamento VXLAN. Quando un frame Ethernet entra in un
VTEP, viene incapsulato in un pacchetto UDP con un header VXLAN e
inviato attraverso la rete IP. Il VTEP di destinazione rimuove
l’incapsulamento e inoltra il frame Ethernet alla rete locale.</p>
<figure>
<img src="img/vxlan.PNG" alt="vxlan" />
<figcaption aria-hidden="true">vxlan</figcaption>
</figure>
<p>Nonostante i vantaggi, l’uso di VXLAN può introdurre alcuni problemi
di prestazione:</p>
<p><strong>Overhead di Incapsulamento</strong>: L’aggiunta di header
VXLAN e UDP aumenta la dimensione dei pacchetti, riducendo l’efficienza
della trasmissione e aumentando il carico sulla rete.</p>
<p><strong>Latenza</strong>: L’incapsulamento e il decapsulamento dei
pacchetti richiedono tempo di elaborazione aggiuntivo, che può aumentare
la latenza end-to-end.</p>
<p><strong>Fragmentazione dei Pacchetti</strong>: L’aumento della
dimensione dei pacchetti può causare la frammentazione, che a sua volta
può ridurre le prestazioni e aumentare il rischio di perdita di
pacchetti.</p>
<h3 id="vlan-virtual-local-area-network">VLAN (Virtual Local Area
Network)</h3>
<p>Le VLAN creano domini di broadcast separati all’interno della stessa
rete fisica. VLAN statiche e dinamiche permettono una gestione
ottimizzata delle risorse, mentre l’uso del protocollo IEEE 802.1Q
facilita l’instradamento su più switch. Se una VLAN corrisponde a una
rete IP, i broadcast di una rete non raggiungono gli host di un’altra.
Senza VLAN, i broadcast inviati da un host possono raggiungere tutti gli
altri host sulla stessa rete fisica, causando congestione e riducendo le
prestazioni. Con le VLAN, i broadcast sono limitati al <strong>broadcast
domain</strong> (dominio broadcast) della VLAN specifica, migliorando
l’efficienza della rete e riducendo il traffico non necessario. Questo
impatta anche sulla sicurezza, dato che un soggetto di un dominio
broadcast non potrà conoscere attraverso un broadcast soggetti esterni
al suo dominio.</p>
<h4 id="classificazione-delle-vlan">Classificazione delle VLAN</h4>
<p><strong>VLAN statiche (Port-Based)</strong>:</p>
<ul>
<li>Ogni porta dello switch è associata a una VLAN specifica.</li>
<li>Gli host appartengono alla VLAN corrispondente alla porta a cui sono
connessi.</li>
<li>Cambiare VLAN di un host richiede la riconfigurazione dello
switch.</li>
<li>Lo switch determina la VLAN di un host in base alla configurazione
della porta di connessione.</li>
<li>Configurazione tipica per semplificare la gestione in ambienti con
strutture di rete fisse.</li>
</ul>
<p><strong>VLAN dinamiche</strong>:</p>
<ul>
<li>Prateicamente non più utilizzata.</li>
<li>L’appartenenza alla VLAN dipende dall’indirizzo dell’host (MAC o
IP).</li>
<li>Gli host rimangono nella VLAN assegnata indipendentemente dalla
porta di connessione.</li>
<li>Cambiare VLAN richiede la modifica della configurazione associata
all’indirizzo dell’host.</li>
</ul>
<h4 id="lan-estesa-e-gestione-delle-vlan-tra-switch">LAN Estesa e
Gestione delle VLAN tra Switch</h4>
<ul>
<li><strong>Definizione</strong>: Una LAN estesa utilizza più switch per
gestire una rete più ampia, mantenendo separazione tra VLAN.</li>
<li><strong>Problema</strong>: Come assicurare che le VLAN rimangano
distinte e funzionino correttamente su switch multipli.</li>
</ul>
<p><strong>Protocollo IEEE 802.1Q</strong></p>
<ul>
<li><strong>Funzione</strong>: Consente l’uso delle stesse VLAN su più
switch interconnessi.</li>
<li><strong>Tagging VLAN</strong>:
<ul>
<li>Aggiunta di un’etichetta (tag) nell’intestazione Ethernet per
identificare la VLAN di appartenenza.</li>
<li><strong>Header IEEE 802.1Q</strong>:
<ul>
<li><strong>4 byte</strong> aggiunti al frame Ethernet:
<ul>
<li><strong>Tag Protocol Identifier (TPID)</strong>: 16 bit, solitamente
0x8100.</li>
<li><strong>Priority</strong>: 3 bit per la priorità del traffico.</li>
<li><strong>CFI</strong>: 1 bit, formato del MAC address.</li>
<li><strong>VID</strong>: 12 bit, identifica la VLAN (da 0 a 4095).</li>
</ul></li>
</ul></li>
</ul></li>
<li><strong>Modalità delle porte di uno switch</strong></li>
</ul>
<p><strong>Access Mode</strong>:</p>
<ul>
<li>Porta associata a una sola VLAN.</li>
<li>Nessun tagging 802.1Q richiesto.</li>
<li>Ideale per porte collegate agli host.</li>
</ul>
<p><strong>Trunk Mode</strong>:</p>
<ul>
<li>Porta associata a VLAN multiple.</li>
<li>Richiede il tagging 802.1Q per identificare la VLAN dei frame
Ethernet.</li>
<li>Configurazioni:
<ul>
<li>Una VLAN “untagged” per il traffico non taggato.</li>
<li>Più VLAN “tagged”.</li>
</ul></li>
<li>Tipica per connessioni tra switch o router.</li>
</ul>
<h3 id="reti-private">Reti private</h3>
<p>Aziende e/o enti di dimensioni medio/grandi in genere hanno necessità
di interconnettere in maniera <strong>sicura</strong> sedi sparse sul
territorio e distanti tra loro</p>
<p>Soluzione tradizionale: utilizzo di linee dedicate da affittare
direttamente presso gli operatori (reti private)</p>
<ul>
<li>Implica costi di acquisto e di gestione dedicati</li>
<li>Le normative non lo permettono</li>
</ul>
<h3 id="vpn">VPN</h3>
<p>Alternativa: utilizzo di una rete in “overlay” attraverso reti
pubbliche (reti private virtuali - VPN)</p>
<ul>
<li>flusso punto-punto di pacchetti autenticati (con contenuto
informativo criptato) incapsulati in pacchetti tradizionali - diverse
tecnologie disponibili</li>
<li>Diversi protocolli di tunnelling
<ul>
<li>livello 2: PPTP, L2TP ・livello 3: IPsec</li>
</ul>
<figure>
<img src="img/pn-vs-vpn.png" alt="pn-vs-vpn.png" />
<figcaption aria-hidden="true">pn-vs-vpn.png</figcaption>
</figure></li>
</ul>
<h4 id="road-warrior">Road warrior</h4>
<p>Una VPN Roadwarrior è una configurazione VPN per utenti che si
connettono da luoghi remoti e variabili, come lavoratori in viaggio o in
smart working. Offre una connessione sicura attraverso protocolli di
tunneling e crittografia, permettendo l’accesso remoto a risorse
aziendali o personali tramite dispositivi come laptop, smartphone o
tablet.</p>
<p>Funzionamento: L’utente utilizza un client VPN per connettersi al
server VPN, autenticandosi con credenziali o 2FA. Il server crea un
tunnel sicuro per instradare il traffico verso le risorse della rete
privata.</p>
<p>Vantaggi:</p>
<ul>
<li>Flessibilità: Accesso da qualsiasi luogo con Internet.</li>
<li>Sicurezza: Protezione dei dati sensibili.</li>
<li>Accesso centralizzato: Risorse aziendali disponibili in modo
sicuro.</li>
</ul>
<p>TOPOLOGIA : a stella</p>
<figure>
<img src="img/roadwarrior.png" alt="roadwarrior" />
<figcaption aria-hidden="true">roadwarrior</figcaption>
</figure>
<h4 id="vpn-rete-a-rete">VPN rete a rete</h4>
<p>Se ho molti host co-localizzati il rodawarrior è inefficiente</p>
<ul>
<li>N host richiedono N tunnel</li>
</ul>
<p>Si crea un tunnel cifrato su rete pubblica fra due LAN o fra due
network IP</p>
<ul>
<li>Su rete pubblica i pacchetti vengono cifrati</li>
<li>Su rete pubblica l’indirizzamento reale può essere mascherato</li>
</ul>
<p>Viene utilizzato</p>
<figure>
<img src="img/net-to-net.png" alt="net to net" />
<figcaption aria-hidden="true">net to net</figcaption>
</figure>
<h5 id="ipsec">IPsec</h5>
<p>IPsec (Internet Protocol Security) è un insieme di protocolli
utilizzati per garantire la sicurezza delle comunicazioni su reti IP.
Fornisce cifratura, autenticazione e integrità dei dati, rendendolo
ideale per proteggere le connessioni VPN.</p>
<p>Utilizzo nelle VPN Site-to-Site (Net-to-Net):</p>
<p>In una VPN Site-to-Site, IPsec viene utilizzato per creare un tunnel
sicuro tra due reti geograficamente separate. Questo consente ai
dispositivi di entrambe le reti di comunicare come se fossero nella
stessa rete locale.</p>
<ol type="1">
<li>Fasi principali:</li>
</ol>
<ul>
<li>Autenticazione dei peer: Le reti si autenticano tramite certificati
digitali o chiavi pre-condivise (Pre-Shared Keys - PSK).</li>
<li>Creazione del tunnel: IPsec stabilisce un tunnel cifrato tra i
gateway delle reti.</li>
<li>Scambio dei dati: I pacchetti vengono cifrati e autenticati durante
il transito per proteggerli.</li>
</ul>
<ol type="1">
<li>Protocolli utilizzati:</li>
</ol>
<ul>
<li><strong>IKE</strong> (Internet Key Exchange): autentica
interlocutore negoziazione algoritmi e chiavi crittografiche</li>
<li><strong>AH</strong> (Authentication Header): Garantisce
<strong>integrità</strong> e <strong>autenticità</strong> dei
pacchetti.</li>
<li><strong>ESP</strong> (Encapsulating Security Payload):
<strong>Cifra</strong> i dati per garantirne la riservatezza,
<strong>tunnel</strong> (cifra anche l’header) e
<strong>transport</strong> (cifra solo payload).</li>
</ul>
<p>Vantaggi:</p>
<ul>
<li>Sicurezza robusta per le comunicazioni aziendali.</li>
<li>Trasparenza per gli utenti, che non devono configurare nulla sui
dispositivi finali.</li>
</ul>
<p>È una soluzione comune per collegare filiali o data center tramite
una rete pubblica come Internet.</p>
<h2 id="strato-fisico">Strato fisico</h2>
<p>La capacità dei collegament raddoppia ogni circa 18 mesi</p>
<h3 id="attenuazione">Attenuazione</h3>
<p>Misura del degrado del segnale attraverso il mezzo trasmissivo, si
misura in dB/km. Se l’attenuazione è bassa posso creare collegamenti più
lunghi, altrimenti no.</p>
<h3 id="rame">Rame</h3>
<p><span class="math display">$$A_{dB} = 10 \cdot \log_{10} \left(
\frac{P_T}{P_R} \right) = \alpha \sqrt{f_{MHz}} L$$</span></p>
<p>L’attenuazione:</p>
<ul>
<li>cresce esponenzialmente con la lunghezza del collegamento</li>
<li>cresce esponenzialmente con la radice della frequenza del
segnale</li>
</ul>
<h4 id="coppie-intrecciate-twisted-pair">Coppie Intrecciate (Twisted
Pair)</h4>
<h5 id="tipologie">Tipologie</h5>
<ol type="1">
<li><strong>Shielded Twisted Pair (STP)</strong>:</li>
</ol>
<ul>
<li>Ogni coppia è avvolta in uno schermo conduttore.</li>
<li>Costo maggiore e necessità di mettere lo schermo a massa.</li>
</ul>
<ol type="1">
<li><strong>Unshielded Twisted Pair (UTP)</strong>:</li>
</ol>
<ul>
<li>Più economici e facili da installare.</li>
</ul>
<h5 id="miglioramenti">Miglioramenti</h5>
<ul>
<li>Aumento del diametro dei conduttori e miglioramento della qualità
del dielettrico.</li>
<li>Miglioramento della regolarità e infittimento del passo di
avvolgimento.</li>
</ul>
<h5 id="categorie-dalla-cat.-1-alla-cat.-7">Categorie (dalla Cat. 1 alla
Cat. 7)</h5>
<ul>
<li><strong>Cat. 1</strong>: Rete telefonica e ISDN.</li>
<li><strong>Cat. 3</strong>: Rete fino a 16 MHz, Ethernet a 10
Mbit/s.</li>
<li><strong>Cat. 5</strong>: Frequenze fino a 100 MHz, Ethernet a 100
Mbit/s.</li>
<li><strong>Cat. 5e</strong>: Fino a 200 MHz, Fast e Gigabit
Ethernet.</li>
<li><strong>Cat. 6</strong>: Frequenze fino a 250 MHz.</li>
<li><strong>Cat. 6a</strong>: Fino a 500 MHz.</li>
<li><strong>Cat. 7</strong>: Fino a 600 MHz, 4 STP in un cavo.</li>
<li><strong>Cat. 7a</strong>: Fino a 1 GHz.</li>
</ul>
<h4 id="cavo-coassiale">Cavo Coassiale</h4>
<ul>
<li><strong>D</strong>: Diametro cavità conduttore esterno.</li>
<li><strong>d</strong>: Diametro conduttore interno.</li>
<li>La qualità del cavo migliora con l’aumento di D (costo e
prestazioni).</li>
<li><strong>Cavo coassiale normalizzato</strong>:
<ul>
<li>Diametro interno: 2.6 mm, esterno: 9.5 mm.</li>
<li>Attenuazione a 1 MHz = 2.35 dB/km.</li>
</ul></li>
</ul>
<h5 id="multiplazione-a-divisione-di-frequenza-fdm">Multiplazione a
divisione di frequenza (FDM):</h5>
<ul>
<li>Tecnica per inviare più segnali tramite lo stesso canale.</li>
</ul>
<h3 id="comunicazioni-radio">Comunicazioni Radio</h3>
<ul>
<li><strong>Vantaggi</strong>:
<ul>
<li>Adatto per la mobilità.</li>
<li>Facilita i servizi di diffusione (broadcasting).</li>
</ul></li>
<li><strong>Problemi</strong>:
<ul>
<li>Lo spettro radio è limitato.</li>
<li>Attenuazione delle onde elettromagnetiche: cresce con la distanza e
la frequenza.</li>
<li>Propagazione: dipende dalla frequenza (onda di terra, ionosferica o
diretta).</li>
</ul></li>
</ul>
<h3 id="sistemi-satellitari">Sistemi Satellitari</h3>
<ul>
<li><strong>1960-1970</strong>: Intelsat, satelliti in orbita
geostazionaria (GEO).</li>
<li><strong>Anni ’90</strong>: Satelliti sofisticati, con stazioni a
terra economiche.</li>
<li><strong>Oggi</strong>: Costellazioni di satelliti in orbita bassa
(LEO) e media (MEO).</li>
</ul>
<h3 id="sistemi-cellulari">Sistemi Cellulari</h3>
<ul>
<li><strong>Funzionalità</strong>:
<ul>
<li>Servizi telefonici mobili.</li>
<li>Potenza di trasmissione bassa, ma alta efficienza nel riutilizzo
delle frequenze (celle non adiacenti).</li>
</ul></li>
<li><strong>Tecnologie</strong>:
<ul>
<li><strong>ETACS</strong> (900 MHz, analogico).</li>
<li><strong>GSM</strong> (digitale, copertura mondiale).</li>
<li><strong>Generazioni successive</strong> (multimediali, roaming,
hand-over).</li>
</ul></li>
</ul>
<h3 id="fibra-ottica">Fibra Ottica</h3>
<p>La fibra ottica ha trasformato le reti di telecomunicazione a partire
dagli anni 2000, sostituendo progressivamente il rame nella rete di
trasporto. Grazie alla sua larghezza di banda superiore, la fibra ottica
permette la trasmissione di grandi quantità di dati su lunghe distanze
con minima perdita di segnale, migliorando significativamente la qualità
e l’affidabilità delle comunicazioni.</p>
<p><strong>Caratteristiche</strong>: le fibre ottiche sono sottili
filamenti di vetro o plastica che trasportano dati sotto forma di
impulsi luminosi. La fibra offre un’elevata capacità di trasporto dati e
una bassa attenuazione, rendendola ideale per le tratte di lunga
distanza. Negli anni, la tecnologia della fibra ha permesso di superare
i limiti fisici delle trasmissioni terrestri e transoceaniche, anche in
condizioni complesse come il fondo marino.</p>
<p><strong>Innovazioni</strong>: grazie alla tecnica del
<strong>multiplexing a lunghezza d’onda (WDM)</strong>, è possibile
trasmettere simultaneamente più flussi di dati su diverse frequenze di
luce all’interno dello stesso cavo in fibra ottica. Questo approccio
sfrutta la scarsa selettività della fibra rispetto al colore della luce,
permettendo a una singola fibra di trasportare diversi flussi di dati ad
alta velocità, aumentando così la capacità totale di trasmissione senza
necessità di nuovi cavi.</p>
<p><strong>Manutenzione e Sicurezza della Fibra Ottica</strong></p>
<ul>
<li><strong>Giunzione e Allineamento</strong>: le fibre ottiche devono
essere giuntate con estrema precisione per evitare perdite di segnale e
dispersione della luce, che potrebbero compromettere la qualità della
trasmissione. Le giunzioni possono essere permanenti o temporanee, ma in
entrambi i casi è fondamentale un allineamento perfetto tra i segmenti
di fibra per garantire un’efficienza ottimale.</li>
<li><strong>Problemi di Sicurezza nelle Lunghe Tratte</strong>: nelle
tratte di lunga distanza, specialmente nelle trasmissioni
transoceaniche, emergono problemi di sicurezza e manutenzione. Le lunghe
distanze e la difficoltà di accesso rendono complicato il monitoraggio e
la protezione delle fibre da potenziali danni o manomissioni. Per
garantire sicurezza e affidabilità, sono necessari sistemi di
sorveglianza avanzati e misure di protezione che preservino l’integrità
del segnale su queste distanze estese.</li>
</ul>
<h3 id="micro-electro-mechanical-systems">Micro-Electro-Mechanical
Systems</h3>
<p>I MEM (Micro-Electro-Mechanical Systems) sono dispositivi
miniaturizzati che combinano componenti meccanici ed elettrici su un
singolo chip di silicio. Funzionano attraverso l’integrazione di
sensori, attuatori e circuiti elettronici, permettendo la rilevazione e
la manipolazione di segnali fisici. Nei sistemi di telecomunicazione, i
MEM vengono applicati in matrici per creare <strong>switch
ottici</strong>, utilizzati per instradare segnali luminosi nelle reti
in fibra ottica. Questi switch sfruttano micro-specchi mobili per
deviare i fasci di luce, consentendo una commutazione rapida e precisa
dei segnali ottici senza conversione elettrica, migliorando l’efficienza
e la velocità delle reti di comunicazione.</p>
<h3 id="arrayed-waveguide-grating">Arrayed Waveguide Grating</h3>
<p>L’Arrayed Waveguide Grating (AWG) è un dispositivo ottico utilizzato
nelle reti di telecomunicazione per la multiplazione e demultiplazione
di segnali ottici. Funziona sfruttando la differenza di percorso ottico
tra una serie di guide d’onda disposte in modo da creare interferenze
costruttive e distruttive. Questo permette di separare o combinare
diverse lunghezze d’onda della luce, rendendo l’AWG fondamentale per il
<strong>Wavelength Division Multiplexing (WDM)</strong>. Grazie alla sua
capacità di gestire molteplici canali ottici simultaneamente, l’AWG è
essenziale per aumentare la capacità di trasmissione delle reti in fibra
ottica, migliorando l’efficienza e la scalabilità delle comunicazioni
ottiche.</p>
<h3 id="divisione-geografica-in-zone-bianche-grigie-e-nere">Divisione
Geografica in Zone Bianche, Grigie e Nere</h3>
<p>La divisione geografica in zone bianche, grigie e nere è una
classificazione utilizzata per identificare le aree in base alla
disponibilità e alla qualità delle infrastrutture di rete a banda larga.
Le <strong>zone bianche</strong> sono aree in cui non esiste alcuna
infrastruttura di rete a banda larga e non sono previsti investimenti
privati nei prossimi tre anni qui sarà necessario un interveto publico
per costruire un infrastruttura che ad un ente privato potrebbe
risultare non conveniente. Le <strong>zone grigie</strong> sono aree in
cui è presente un solo operatore di rete a banda larga, con una
copertura limitata e una qualità del servizio che potrebbe non essere
sufficiente per soddisfare le esigenze future. Le <strong>zone
nere</strong> sono aree in cui sono presenti almeno due operatori di
rete a banda larga che offrono servizi competitivi e di alta qualità.
Questa classificazione è utilizzata per indirizzare gli investimenti
pubblici e privati, promuovendo lo sviluppo delle infrastrutture di rete
nelle zone meno servite e garantendo un accesso equo e diffuso alla
banda larga su tutto il territorio.</p>
<h4 id="considerazioni">Considerazioni</h4>
<ul>
<li><strong>Reti radio</strong>: Economiche per territori vasti e poco
popolati.</li>
<li><strong>Problemi</strong>:
<ul>
<li>Banda limitata.</li>
<li>Vulnerabilità ai disturbi atmosferici e attacchi.</li>
</ul></li>
</ul>
<h2 id="funzionalità-e-prestazioni">Funzionalità e prestazioni</h2>
<p>I protocolli devono garantire :</p>
<ul>
<li>funzionalità</li>
<li>prestazioni</li>
</ul>
<h3 id="prestazioni">Prestazioni</h3>
<p>Un sistema deve smaltire il lavoro offerto dall’esterno.</p>
<p><span
class="math display"><em>r</em><em>i</em><em>c</em><em>h</em><em>i</em><em>e</em><em>s</em><em>t</em><em>e</em> <em>i</em><em>n</em> <em>a</em><em>r</em><em>r</em><em>i</em><em>v</em><em>o</em> → <em>k</em>(<em>t</em>) = <em>n</em><em>u</em><em>m</em><em>e</em><em>r</em><em>o</em> <em>d</em><em>i</em> <em>r</em><em>i</em><em>c</em><em>h</em><em>i</em><em>e</em><em>s</em><em>t</em><em>e</em> <em>d</em><em>a</em> <em>e</em><em>l</em><em>a</em><em>b</em><em>o</em><em>r</em><em>a</em><em>r</em><em>e</em> → <em>r</em><em>i</em><em>c</em><em>h</em><em>i</em><em>e</em><em>s</em><em>t</em><em>e</em> <em>s</em><em>o</em><em>d</em><em>d</em><em>i</em><em>s</em><em>f</em><em>a</em><em>t</em><em>t</em><em>e</em></span></p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-06_at_09.16.13.png
" alt="Diagramma di rete" width="400">
</div>
<ul>
<li>Frequenza media richieste offerte</li>
</ul>
<p><span class="math display">$$\lambda = \lim_{t \to \infty}
\frac{a(t)}{t}$$</span></p>
<ul>
<li>Frequenza media richieste smaltite</li>
</ul>
<p><span class="math display">$$\lambda_s = \lim_{t \to \infty}
\frac{p(t)}{t}$$</span></p>
<ul>
<li>Se il sistema in oggetto non produce lavoro ma lo riceve solamente
dall’esterno</li>
</ul>
<p><span
class="math display"><em>λ</em><sub><em>s</em></sub> ≤ <em>λ</em></span></p>
<h4 id="richieste-perdute">Richieste perdute</h4>
<p><span
class="math display"><em>s</em><em>e</em> <em>λ</em><sub><em>s</em></sub> = <em>λ</em> → <em>s</em>(<em>t</em>) = <em>a</em>(<em>t</em>)</span></p>
<ul>
<li>tutte richieste accettate prima o poi soddisfatte</li>
</ul>
<p><span
class="math display"><em>s</em><em>e</em> <em>λ</em><sub><em>s</em></sub> &lt; <em>λ</em> → <em>r</em>(<em>t</em>) = <em>a</em>(<em>t</em>) − <em>s</em>(<em>t</em>)</span></p>
<ul>
<li>r(t) rappresenta le richieste non accettate e perdute dal sistema.
quindi :</li>
</ul>
<p><span class="math display">$$(frequenza\ rifiutate\ o\ perdute)\
\lambda_p = \lim_{t \to \infty} \frac{r(t)}{t}$$</span> <span
class="math display"><em>λ</em> = <em>λ</em><sub><em>s</em></sub> + <em>λ</em><sub><em>p</em></sub></span></p>
<h4 id="utenti-e-servizi">Utenti e servizi</h4>
<p>In una rete non ha senso considerare unicamente il bit rate del
canale, perchè l’unità di servizio è il pacchetto e non il bit, perciò
si considera come <strong>risultato utile</strong> il tempo per
completare la consegna di un intero pacchetto.</p>
<p><span
class="math display"><em>θ</em> → <em>P</em><em>D</em><em>U</em> = <em>t</em><em>e</em><em>m</em><em>p</em><em>o</em> <em>r</em><em>i</em><em>c</em><em>h</em><em>i</em><em>e</em><em>s</em><em>t</em><em>o</em> <em>d</em><em>a</em> <em>u</em><em>n</em> <em>g</em><em>e</em><em>n</em><em>e</em><em>r</em><em>i</em><em>c</em><em>o</em> <em>c</em><em>l</em><em>i</em><em>e</em><em>n</em><em>t</em><em>e</em></span></p>
<p><span class="math display">$$\bar\theta = \frac{L}{C}$$</span></p>
<ul>
<li>L = lunghezza pacchetto in bit</li>
<li>C = capacità canale in bit per sec</li>
</ul>
<h5 id="pdu-protocoll-data-unit">PDU (protocoll data unit)</h5>
<ul>
<li>Servizio <strong>aleatorio</strong>
<ul>
<li>Si fa riferimento in prima battuta al tempo medio</li>
</ul></li>
<li>Servizio <strong>deterministico</strong>
<ul>
<li>Tempo di servizio costante ed uguale al suo valore medio</li>
</ul></li>
</ul>
<h4 id="frequenza-di-servizio">Frequenza di servizio</h4>
<p><span class="math display">$$\mu = \frac{1}{\bar \theta}$$</span></p>
<p>La frequenza media di servizio è ovviamente legata alla presenza di
utenti del sistema</p>
<ul>
<li><p>Se non vi sono richieste di servizio <span
class="math inline">→</span> frequenza di servizio è nulla</p></li>
<li><p>Se vi sono richieste di servizio il parametro da indicazione di
quanto velocemente esse vengono soddisfatte</p></li>
</ul>
<h5 id="esempio">esempio</h5>
<p>se <span class="math inline"><em>θ̄</em> = 0.5<em>s</em></span> allora
il servitore può smatltire al massimo <span
class="math inline"><em>μ</em> = 2 <em>p</em><em>a</em><em>c</em><em>c</em><em>h</em><em>e</em><em>t</em><em>t</em><em>i</em>/<em>s</em></span>
<span
class="math display"><em>λ</em><sub><em>s</em></sub><sup><em>m</em><em>a</em><em>x</em></sup> = <em>μ</em></span></p>
<p>Un utente spende mediamente in coda il tempo del servizio + il tempo
di attesa</p>
<p><span
class="math display"><em>δ̄</em> = <em>θ̄</em> + <em>T̄</em><sub><em>A</em></sub></span></p>
<h4 id="traffico">Traffico</h4>
<p>Le prestazioni del sistema che fornisce il servizio dipendono:</p>
<ul>
<li>Dalla numerosità degli arrivi, (utenti per secondo)</li>
<li>Dalla durata del servizio (utenti al secondo) o il tempo medio di
servizio(secondi)</li>
</ul>
<p><strong>Traffico</strong> = numero medio di utenti presenti nel
sistema</p>
<p><span class="math display"><em>A</em> = <em>λ</em><em>δ̄</em></span>
<span
class="math inline"><em>A</em><sub>0</sub> = <em>λ</em><em>δ̄</em>→</span>
Traffico offerto <span
class="math inline"><em>A</em><sub><em>s</em></sub> = <em>λ</em><sub><em>s</em></sub><em>δ̄</em>→</span>
Traffico smaltito <span
class="math inline"><em>A</em><sub><em>p</em></sub> = <em>λ</em><sub><em>p</em></sub><em>δ̄</em>→</span>
Traffico perduto</p>
<div style="text-align: center;">
<p><img src="./img/Screenshot_2024-12-09_at_11.26.20.png" alt="Diagramma di rete" width="400"></p>
</div>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-09_at_11.28.58.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="prestazioni-ideali-per-un-protocollo-data-link">Prestazioni
Ideali per un Protocollo Data Link</h3>
<p>Le prestazioni ideali per un protocollo data link sono determinate
dalla capacità massima teorica del canale. Poiché il protocollo invia i
bit dello strato 3 sul canale, la sua capacità massima teorica è la
velocità del canale ( C ).</p>
<ul>
<li><strong>Capacità Massima Teorica</strong>: La velocità del canale (
C ).</li>
</ul>
<p>Questa capacità rappresenta il limite superiore delle prestazioni che
il protocollo può raggiungere in condizioni ideali.</p>
<p>Tempo medio di servizio <span class="math inline">$\rightarrow
\bar\theta =\frac{L}{C} = \frac{1}{\mu}$</span></p>
<p>Se richiede maggiore tempo allora <span
class="math inline">$\rightarrow \bar\theta_e =\frac{L}{C_e} =
\frac{1}{\mu}$</span></p>
<h3 id="capacità-effettiva-c_e">Capacità Effettiva <span
class="math inline">(<em>C</em><sub><em>e</em></sub>)</span></h3>
<p>La capacità effettiva di un protocollo data link dipende dal
protocollo stesso e dalle condizioni operative. Se le funzionalità
richieste o una situazione non ideale richiedono più tempo per ogni PDU
(Protocol Data Unit), parte della capacità risulta inutilizzabile per i
dati degli utenti. I fattori che possono ridurre la capacità effettiva
includono:</p>
<ul>
<li><strong>PCI Necessarie per la Segnalazione</strong>: Overhead dovuto
alle informazioni di controllo.</li>
<li><strong>Errori di Trasmissione</strong>: Necessità di correggere
errori.</li>
<li><strong>Ritrasmissioni</strong>: Pacchetti persi o danneggiati che
devono essere ritrasmessi.</li>
<li><strong>Tempi Morti Legati alle Dinamiche del Protocollo</strong>:
Attese dovute al funzionamento del protocollo.</li>
<li><strong>Tempi Morti in Attesa di Accedere al Canale</strong>: Attese
per ottenere l’accesso al canale di comunicazione.</li>
</ul>
<p>Questi fattori riducono la capacità effettiva rispetto alla capacità
massima teorica del canale. Il traffico si misura con una unità di
misura fittizia detta E (<em>Erlang</em>).</p>
<h3 id="valutazione-efficienza">Valutazione efficienza</h3>
<p>Per valutare l’efficienza di un protocollo data link, si fa
riferimento alla PDU (Protocol Data Unit). Si confrontano:</p>
<ul>
<li>Tempo per inviare i soli dati d’utente <strong>SDU</strong></li>
<li>Tempo totale per inviare la <strong>PDU</strong></li>
</ul>
<p>L’efficienza è data dal rapporto tra queste due quantità <span
class="math inline">$\eta = \frac{T_u}{T_0} =
\frac{\bar\theta}{\bar\theta_e}$</span>.</p>
<h2 id="reti-commutate-il-sistema-a-coda-con-singolo-servitore">Reti
commutate: il sistema a coda con singolo servitore</h2>
<p>Una coda a singolo servitore è un modello di teoria delle code in cui
i clienti arrivano a un sistema e vengono serviti da un unico
servitore.</p>
<ul>
<li><strong>Arrivi dei clienti:</strong> Modellati spesso come un
processo di Poisson, con intervalli di tempo tra gli arrivi distribuiti
esponenzialmente.</li>
<li><strong>Servizio:</strong> Il servitore serve i clienti uno alla
volta, con tempi di servizio che possono seguire diverse distribuzioni
di probabilità; frequentemente si assume una distribuzione
esponenziale.</li>
<li><strong>Attesa in coda:</strong> Se il servitore è occupato, i
clienti attendono in coda. Parametri Principali</li>
<li><strong>Tasso di arrivo <span
class="math inline">(<em>λ</em>)</span>:</strong> Numero medio di
clienti che arrivano al sistema per unità di tempo.</li>
<li><strong>Tasso di servizio <span
class="math inline">(<em>μ</em>)</span>:</strong> Numero medio di
clienti che il servitore può gestire per unità di tempo.</li>
<li><strong>Capacità della coda:</strong> Numero massimo di clienti che
possono attendere in coda.</li>
</ul>
<p><strong>Misure di Performance Comuni</strong></p>
<ul>
<li>Tempo medio di attesa in coda</li>
<li>Tempo medio di servizio</li>
<li>Numero medio di clienti in coda</li>
<li>Probabilità che un cliente debba attendere</li>
</ul>
<p>Esempio Classico: Modello M/M/1 Un esempio tipico è il modello M/M/1,
utilizzato in reti di comunicazione, sistemi di elaborazione dati e
servizi al cliente per analizzare e ottimizzare le prestazioni del
sistema.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-09_at_11.59.08.png
" alt="Diagramma di rete" width="400">
</div>
<p>Per una questione di semplicità si schematizza ogni collegamento in
uscita come uno schema con un singolo servitore.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-09_at_14.14.25.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="ipotesi-semplificative">Ipotesi semplificative</h3>
<ul>
<li>Le perdite di pacchetti sono trascurabili</li>
<li>I pacchetti arrivano casualmente con distribuzione di Poisson <span
class="math display">$$Pr\ \{k\ arrivals\ during\ t \} =
P(k,t)=\frac{(\lambda T^k)}{k!} e^{\lambda T}$$</span></li>
<li>La dimensione dei pacchetti è casuale con distribuzione esponenziale
uguale per tutti i pacchetti <span class="math display">$$Pr \{\theta\le
t\}=F_\theta(t)=1-e^{-\frac{t}{\bar\theta}}$$</span></li>
</ul>
<h3 id="utilizzazione">Utilizzazione</h3>
<p>Il servitore alterna fasi di lavoro a fasi di pausa, Idealmente
vorremmo il servitore sempre attivo (in pausa = spreco risorse). Il
servitore è attivo solo se ci sono clenti che arrivano in modo
casuale.</p>
<p>L’utilizzazione misura il tempo di lavoro del servitore e anche il
numero medio di utenti serviti nel tempo.</p>
<p><span class="math display">$$\rho=\frac{B(T)}{T}$$</span></p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-09_at_14.28.36.png
" alt="Diagramma di rete" width="400">
</div>
<p><span class="math inline">$\rho=\frac{\lambda}{\mu}
\rightarrow$</span> confronta il ritmo di arrivo con quello di
servizio<br />
<span class="math inline">$\mu=\frac{1}{\bar\theta} \rightarrow$</span>
frequenza di servizio, ci dice mediamente quanti pacchetti possono
essere serviti.<br />
<span class="math inline"><em>λ</em> &lt; <em>μ</em></span> Non devono
arrivare più pacchetti di quelli che possono essere serviti.<br />
<span class="math inline">$\bar T_A = \bar\theta \frac{\rho}{1-\rho}
\rightarrow$</span> tempo medio di attesa in coda.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-10_at_10.03.32.png
" alt="Diagramma di rete" width="500">
</div>
<p>Con pochi pacchetti e lunghi si è più lenti che con molti pacchetti
ma corti. Quindi è più conveniente avere pochi nodi ma con una potenza
molto elevata piuttosto che molti nodi ma più lenti.</p>
<h3 id="miglioramento-prestazioni">Miglioramento prestazioni</h3>
<p>dato che i pacchetti arrivano in modo casuale è buona norma
utilizzare una lunghezz standar in modo tale da avere migliori
prestazioni, Se un pacchetto è più corto si aggiunge il padding alla
fine per farlo diventare di lunghezza standard.</p>
<p><strong>Compromesso</strong> In questo modo anche il tempo di attesa
in coda è migliorato notevolmente ma aumenta il tempo medio di
servizio.</p>
<h2 id="reti-local-area-network-lan">Reti Local Area Network (LAN)</h2>
<p>Le <strong>LAN</strong> (Local Area Network) rappresentano
un’infrastruttura di telecomunicazioni progettata per consentire la
comunicazione tra dispositivi indipendenti in un’area geografica
limitata. Queste reti sfruttano un canale condiviso ad alta velocità,
garantendo tassi di errore contenuti.</p>
<h3 id="caratteristiche-principali-delle-lan">Caratteristiche principali
delle LAN</h3>
<ol type="1">
<li><strong>Area limitata</strong>:
<ul>
<li>Le LAN operano in un contesto geografico circoscritto, spesso
privato, come uffici, abitazioni o campus.<br />
</li>
<li>Questo consente prestazioni elevate grazie alla vicinanza fisica tra
i dispositivi.</li>
</ul></li>
<li><strong>Canale fisico condiviso</strong>:
<ul>
<li>Un unico canale è utilizzato da tutti i dispositivi connessi.<br />
</li>
<li>Questa condivisione consente trasmissioni simultanee, ma richiede
meccanismi per evitare collisioni.</li>
</ul></li>
<li><strong>Trasmissioni broadcast</strong>:
<ul>
<li>La rete supporta comunicazioni “da uno a tutti”.<br />
</li>
<li>Ogni dispositivo può trasmettere dati che tutti gli altri possono
potenzialmente ricevere, a meno che non siano filtrati.</li>
</ul></li>
<li><strong>Elevata bit rate e bassi tassi di errore</strong>:
<ul>
<li>Le LAN offrono velocità di trasmissione elevate con tassi di errore
contenuti, grazie alle brevi distanze fisiche e alla qualità del
canale.</li>
</ul></li>
<li><strong>Indipendenza</strong>:
<ul>
<li>I dispositivi nelle LAN non seguono un’architettura master-slave,
operando invece come entità autonome.</li>
</ul></li>
<li><strong>Collisione</strong>:
<ul>
<li>Su di un mezzo condiviso esiste la possibilità che più utenti
inviino informazioni contemporaneamente</li>
<li>Interferenza – perturbazione o distruzione dell’informazione –
perdita di trasparenza semantica</li>
</ul></li>
</ol>
<h3 id="scelte-progettuali-delle-lan">Scelte progettuali delle LAN</h3>
<h4 id="mezzo-trasmissivo">Mezzo trasmissivo</h4>
<ol type="1">
<li><strong>Fibre ottiche</strong>:
<ul>
<li>Offrono maggiore banda, minore interferenza e una maggiore
affidabilità rispetto al rame.<br />
</li>
<li>Tuttavia, il costo di interconnessione e installazione può risultare
più elevato, rallentandone l’adozione per le LAN.</li>
</ul></li>
<li><strong>Coppie intrecciate (twisted pairs)</strong>:
<ul>
<li>Continuano a essere utilizzate per gli “ultimi metri” di connessione
grazie al costo contenuto e alla semplicità di utilizzo.</li>
</ul></li>
<li><strong>Mezzo radio</strong>:
<ul>
<li>Negli anni recenti, le tecnologie wireless stanno guadagnando
importanza per la flessibilità e i costi ridotti.</li>
</ul></li>
</ol>
<h4 id="topologie">Topologie</h4>
<ol type="1">
<li><p><strong>Configurazioni comuni</strong>:</p>
<ul>
<li><strong>Stella</strong>: un nodo centrale collega tutti i
dispositivi.<br />
</li>
<li><strong>Maglia</strong>: garantisce alta ridondanza, con ogni nodo
collegato a più nodi vicini.<br />
</li>
<li><strong>Gerarchica</strong>: struttura a livelli, utile per ambienti
complessi.</li>
</ul></li>
<li><p><strong>Punto-multipunto</strong>:</p>
<ul>
<li>Il canale è condiviso ma l’accesso viene <strong>controllato in modo
centralizzato</strong> o distribuito per evitare fenomeni di
<strong>collisione</strong></li>
<li>Utilizzato nelle prime LAN con mezzi condivisi, come bus
bidirezionali o anelli.<br />
</li>
<li>Non adatto alle WAN per i limiti di distanza e interferenze.</li>
</ul></li>
</ol>
<h3 id="accesso-multiplo">Accesso multiplo</h3>
<p>Le LAN utilizzano tecniche specifiche per gestire l’accesso al canale
condiviso:</p>
<ol type="1">
<li><p><strong>Canalizzazione</strong>:</p>
<ul>
<li><strong>FDMA</strong> (Frequency Division Multiple Access):
divisione delle risorse per frequenze.<br />
</li>
<li><strong>TDMA</strong> (Time Division Multiple Access): divisione
temporale del canale.<br />
</li>
<li><strong>CDMA</strong> (Code Division Multiple Access): utilizzo di
codici univoci per separare le comunicazioni.</li>
</ul></li>
<li><p><strong>Accesso dinamico</strong>: Basato sull’allocazione delle
risorse in tempo reale.</p>
<ul>
<li><strong>Accesso ordinato</strong>: Include meccanismi come il
trasferimento di permessi o la prenotazione per evitare collisioni.</li>
<li><strong>Accesso a contesa</strong>: Ammettono collisioni</li>
</ul></li>
</ol>
<h3 id="protocolli-ad-accesso-casuale">Protocolli ad Accesso
Casuale</h3>
<p><strong>Obiettivo:</strong> Permettere ai dispositivi di trasmettere
dati in modo casuale senza una pianificazione predefinita, gestendo le
collisioni che possono verificarsi.</p>
<p><strong>Tecniche:</strong> Utilizzano meccanismi come CSMA/CD
(Carrier Sense Multiple Access with Collision Detection) e CSMA/CA
(Carrier Sense Multiple Access with Collision Avoidance) per rilevare e
gestire le collisioni.</p>
<p><strong>Esempi:</strong> Reti Ethernet (CSMA/CD) e Wi-Fi (CSMA/CA)
dove i dispositivi ascoltano il canale prima di trasmettere e gestiscono
le collisioni se si verificano.</p>
<h3 id="differenze-tra-accesso-multiplo-e-casuale">Differenze tra
accesso multiplo e casuale</h3>
<ul>
<li>Accesso multiplo <span class="math inline">→</span> divisione del
canale per evitare le collisioni</li>
<li>Accesso casuale <span class="math inline">→</span> gestione delle
collisioni in un ambiente di accesso non pianificato, è un sottoninsieme
dei MAC <strong><span class="math inline">↷</span></strong></li>
</ul>
<p>Entrambi possono essere utilizzati insieme per ottimizzare
l’efficienza e la flessibilità delle reti di comunicazione.</p>
<h3 id="protocolli-medium-acces-control-mac">Protocolli Medium Acces
Control (MAC)</h3>
<p>Ammettono collisioni perchè sono a contesa.</p>
<ul>
<li><p><strong>CAP - Channel Access Procedure</strong> Insieme delle
procedure che la stazione effettua per realizzare l’accesso al
canale</p></li>
<li><p><strong>CRA - Collision Resolution Algorithm</strong> E’
l’insieme delle procedure che la stazione effettua per rivelare ed
eventualmente recuperare situazioni di collisione</p></li>
</ul>
<h3 id="prestazioni-e-parametri-chiave-delle-lan">Prestazioni e
parametri chiave delle LAN</h3>
<p>La scelta dell’algoritmo di controllo e accesso è determinata da un
compromesso tra <strong>complessità</strong> e
<strong>prestazioni</strong>.</p>
<p><strong>Parametri chiave</strong>:</p>
<ul>
<li><span class="math inline"><em>L</em></span>: lunghezza del
pacchetto.<br />
</li>
<li><span class="math inline"><em>C</em></span>: velocità di
trasmissione del canale.<br />
</li>
<li><span class="math inline"><em>D</em></span>: distanza massima tra
due nodi della rete.<br />
</li>
<li><span class="math inline"><em>v</em></span>: velocità di
propagazione del segnale (tipicamente vicino alla velocità della luce
nell’aria).<br />
</li>
<li><span class="math inline"><em>θ</em> = <em>L</em>/<em>c</em></span>
tempo trasmissione trama</li>
<li><span class="math inline"><em>d</em>/<em>v</em></span> tempo prop
bit sulla LAN</li>
<li><span class="math inline"><em>C</em><em>d</em>/<em>v</em></span>
massinmo numero di bit presenti contemporaneamente sulla LAN</li>
</ul>
<p><strong>LAN ideale</strong>:</p>
<ul>
<li>In un sistema senza collisioni e con coordinamento perfetto, tutte
le richieste ($ A_0 <span
class="math inline">)<em>v</em><em>e</em><em>n</em><em>g</em><em>o</em><em>n</em><em>o</em><em>s</em><em>o</em><em>d</em><em>d</em><em>i</em><em>s</em><em>f</em><em>a</em><em>t</em><em>t</em><em>e</em>(</span>
A_s = A_0 $) fino alla saturazione del canale.</li>
</ul>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-10_at_11.52.44.png
" alt="Diagramma di rete" width="500">
</div>
<h3 id="propagazione-reale-nella-topologia-bus">Propagazione reale nella
topologia bus</h3>
<ul>
<li>Nella <strong>topologia bus</strong>, il tempo di attraversamento di
una trama sulla LAN non è istantaneo.
<ul>
<li><strong>Tempi di trasmissione</strong>:
<ol type="1">
<li>$ t $: il nodo <strong>A</strong> inizia la trasmissione.</li>
<li>$ t + L/C $: il nodo <strong>A</strong> completa la
trasmissione.</li>
<li>$ t + d/v $: il nodo <strong>B</strong> riceve il primo bit.</li>
<li>$ t + L/C + d/v $: il nodo <strong>B</strong> riceve l’ultimo
bit.</li>
</ol></li>
</ul></li>
</ul>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-10_at_11.54.23.png
" alt="Diagramma di rete" width="300">
</div>
<h3 id="efficienza-del-mac-ideale">Efficienza del MAC ideale</h3>
<ul>
<li>Una trama impegna la <strong>LAN</strong> per un tempo $
T_0 (tempo tot. per rinviare un messaggio) $, limitando l’uso totale del
canale.<br />
</li>
<li>Il canale può essere utilizzato al massimo per $ T $ secondi ogni $
T_0 $.<br />
</li>
<li><strong>Formula dell’efficienza del MAC</strong>:<br />
<span class="math display">$$
\eta = \frac{T}{T_0} = \frac{L/C}{L/C + d/v} = \frac{1}{1 + a}
$$</span>
<ul>
<li>Dove $ a = Cd / vL $.
<ul>
<li>$ a $ rappresenta la <strong>lunghezza della LAN</strong> in termini
di PDU.<br />
</li>
</ul></li>
</ul></li>
<li><strong>Limite superiore</strong>:<br />
L’efficienza pone un limite massimo al traffico che la LAN può smaltire
($ A_s $).</li>
</ul>
<h3 id="traffico-smaltito-dalla-lan">Traffico smaltito dalla LAN</h3>
<ul>
<li>La quantità di traffico smaltito dipende dal rapporto $ A_0 $
(traffico offerto) e $ 1 / (1 + a) $:
<ol type="1">
<li><strong>Se $ A_0 &lt; 1/(1+a) $</strong>:
<ul>
<li>Tutte le trame in arrivo vengono trasmesse.<br />
</li>
<li>$ S = G = A_0 $.<br />
</li>
</ul></li>
<li><strong>Se $ A_0 /(1+a) $</strong>:
<ul>
<li>Il MAC non è in grado di trasmettere tutte le trame.<br />
</li>
<li>Una parte delle trame viene accodata.<br />
</li>
<li>$ A_s = h = 1/(1+a) $.</li>
</ul></li>
</ol></li>
</ul>
<p>Questi limiti dipendono dalla <strong>lunghezza della LAN</strong> e
dal comportamento del <strong>canale di trasmissione</strong>.</p>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-10_at_12.07.29.png
" alt="Diagramma di rete" width="400">
</div>
<h3 id="efficienza-delle-lan">Efficienza delle LAN</h3>
<ul>
<li><strong>Determinanti delle prestazioni</strong>:
<ul>
<li>Il parametro <strong><span
class="math inline"><em>a</em></span></strong> influenza direttamente le
prestazioni della LAN.</li>
<li><strong>Lunghezza del canale</strong>: maggiore è la lunghezza in
termini di trame, minore è il traffico massimo smaltibile (massimo
throughput).</li>
<li>I protocolli ad <strong>accesso multiplo</strong> sono efficienti se
le distanze e le velocità di trasmissione sono limitate.</li>
</ul></li>
</ul>
<h2 id="protocollo-a-contesa-aloha">Protocollo a contesa: ALOHA</h2>
<p><strong>Origine</strong>:</p>
<ul>
<li>Sviluppato nel 1970 per connettere università delle Hawaii
utilizzando stazioni terrestri e un satellite geostazionario.</li>
</ul>
<p><strong>Modalità di funzionamento</strong>:</p>
<p><strong>CAP</strong> (Channel Access Procedure):</p>
<ul>
<li>Le stazioni trasmettono senza verificare la disponibilità del
canale.</li>
<li>Il satellite ritrasmette i dati verso tutte le stazioni.</li>
<li>La stazione trasmittente riceve la propria trama come conferma di
trasmissione riuscita.</li>
</ul>
<p><strong>CRA</strong> (Collision Resolution Algorithm):</p>
<ul>
<li>Collisioni avvengono quando più stazioni trasmettono
contemporaneamente.</li>
<li>Il satellite scarta le trame danneggiate.</li>
<li>Le stazioni che rilevano una collisione avviano un <strong>algoritmo
di back-off</strong>, ritrasmettendo in un momento scelto casualmente in
un intervallo $ T_b $.</li>
</ul>
<h3 id="prestazioni-di-aloha">Prestazioni di ALOHA</h3>
<p><strong>Traffico generato</strong>:</p>
<ul>
<li>Gli arrivi di trame alle stazioni seguono un <strong>processo di
Poisson</strong> con frequenza media $ $.</li>
<li>Tenendo conto delle ritrasmissioni, il traffico effettivo verso il
satellite è $ _r &gt; $.</li>
<li>Il traffico smaltito è pari al traffico offerto che viene trasmesso
senza collidere <span
class="math inline"><em>A</em><sub><em>s</em></sub> = <em>G</em><em>P</em><sub>0</sub></span></li>
<li>A causa di collisioni <span
class="math inline"><em>λ</em><sub><em>r</em></sub> ≥ <em>λ</em></span>
<strong>Intervallo di vulnerabilità</strong>:</li>
</ul>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-11_at_11.44.21.png
" alt="Diagramma di rete" width="300">
</div>
<ul>
<li>Definito come <strong>$ T_v = 2T $</strong>, rappresenta il periodo
durante il quale una trasmissione può subire collisioni.</li>
<li>La trama considerata inizia in t0 e finisce in t0 + T</li>
<li><strong>Collisione</strong> se il primo bit della trama considerata
si sovrapponga all’ultimo bit di una trama precedente</li>
</ul>
<h3 id="throughput-di-aloha">Throughput di ALOHA</h3>
<p><strong>Calcolo</strong>:</p>
<ul>
<li>Probabilità di trasmissione senza collisioni:<br />
<span
class="math display"><em>P</em><sub>0</sub> = <em>e</em><sup>−2<em>G</em></sup></span></li>
<li>Traffico smaltito ($ A_s <span class="math inline">):</span>$ A_s =
G e^{-2G} $$</li>
</ul>
<p><strong>Massimo throughput</strong>:</p>
<p>Valore massimo:<br />
<span class="math display">$$A_{Smax} = \frac{1}{2e} \approx 0.18 \quad
\text{per } G = 0.5$$</span></p>
<p>Ipotizzando di avere:</p>
<ul>
<li>Trame uguali: Tutte le trame hanno una lunghezza <span
class="math inline"><em>L</em></span> , che richiede un tempo di
trasmissione <span class="math inline"><em>T</em></span> .</li>
<li>Traffico offerto dalle applicazioni <span
class="math inline"><em>A</em><sub>0</sub> = <em>λ</em><sub><em>T</em></sub></span></li>
<li>Traffico offerto dal MAC <span
class="math inline"><em>G</em> = <em>λ</em><sub><em>r</em></sub><em>T</em></span></li>
<li><span class="math inline"><em>G</em></span> molto piccola</li>
<li>Probabilità che trama non collida <span
class="math inline"><em>P</em><sub>0</sub></span></li>
<li>Traffico smaltito <span
class="math inline"><em>A</em><sub><em>s</em></sub> = <em>G</em><em>P</em><sub>0</sub></span></li>
</ul>
<div style="text-align: center;">
<img src="./img/Screenshot_2024-12-11_at_17.04.28.png
" alt="Diagramma di rete" width="300">
</div>
<h3 id="slotted-aloha">Slotted ALOHA</h3>
<p><strong>Miglioramento</strong>:</p>
<ul>
<li>Il tempo è diviso in <strong>slot</strong> di lunghezza $ T $ e si
lavora in modo <strong>sincrono</strong>.</li>
<li>Le trame sono trasmesse in istanti predefiniti, riducendo
<strong>l’intervallo di vulnerabilità a $ T $</strong>. Il satellite
comunica tramite sequenze di sincronismo.</li>
<li>Due trame si sovrappongono o completamente o non si
sovrappongono</li>
</ul>
<p><strong>Calcolo</strong>:</p>
<ul>
<li>Probabilità di trasmissione senza collisioni:<br />
<span
class="math display"><em>P</em><sub>0</sub> = <em>e</em><sup>−<em>G</em></sup></span></li>
<li>Traffico smaltito ($ A_s <span class="math inline">):</span>$ A_s =
G e^{-G} $$</li>
</ul>
<p><strong>Massimo throughput</strong>:</p>
<ul>
<li>Valore massimo:<br />
<span class="math display">$$
A_{Smax} = \frac{1}{e} \approx 0.36 \quad \text{per } G = 1
$$</span></li>
</ul>
<div style="text-align: center;">
<img src="./img/Alhoa_classico_vs_alhoa_slotted.png" alt="Diagramma di rete" width="300">
<p>
Confronto tra Aloha classico e Aloha slotted
</p>
</div>
<h3 id="algoritmi-di-back-off">Algoritmi di back-off</h3>
<p><strong>Aloha classico</strong>:</p>
<ul>
<li>Ritrasmissione casuale nell’intervallo $ [0, T_b] $, con $ T_b T $
per minimizzare collisioni.</li>
</ul>
<p><strong>Aloha slotted</strong>: Due approcci:</p>
<ol type="1">
<li><p>Ritrasmissione in uno slot scelto casualmente in <span
class="math inline">[0, <em>n</em><sub><em>b</em></sub> − 1]</span>.</p>
<ul>
<li>Deterministico nell’intervallo <span
class="math inline"><em>n</em><sub><em>b</em></sub><em>T</em></span>
.<br />
</li>
<li>Richiede un generatore casuale per scegliere lo slot.</li>
</ul></li>
<li><p>Ritrasmissione nel primo slot disponibile con probabilità $ p_b
$.</p>
<ul>
<li>Si passa allo slot successivo con probabilità complementare.</li>
<li>Si itera fino a che non si invia</li>
<li>Più dinamico ed equo nel lungo termine.<br />
</li>
<li>Richiede il calcolo e gestione di probabilità.</li>
</ul></li>
</ol>
<h3 id="stabilità-del-sistema">Stabilità del sistema</h3>
<ul>
<li><strong>Equilibrio</strong>: In condizioni stabili sarà $ A_0 = A_s
$, se $ A_0 &gt; A_{Smax} $, il sistema accumula traffico non smaltito,
portando a instabilità.</li>
</ul>
<p>In un sistema Aloha, una stazione di <strong>backlogged</strong> (o
semplicemente backlogged station) è una stazione che ha subito una
collisione e, di conseguenza, ha pacchetti in attesa di
ritrasmissione.</p>
<ul>
<li><p><strong>Numero finito di stazioni</strong>: Il traffico offerto $
A_0 $ dipende dal numero di stazioni attive ($ k = stazioni backlogged$)
e dalle condizioni del sistema:</p>
<ul>
<li>in particolare se backlogged <span
class="math inline"><em>λ</em><sub><em>i</em></sub> = <em>λ</em></span>
(<span
class="math inline"><em>λ</em><sub><em>i</em></sub> = <em>f</em><em>r</em><em>e</em><em>q</em><em>u</em><em>e</em><em>n</em><em>z</em><em>a</em> <em>m</em><em>e</em><em>d</em><em>i</em><em>a</em> <em>a</em><em>r</em><em>r</em><em>i</em><em>v</em><em>o</em> <em>d</em><em>i</em> <em>o</em><em>g</em><em>n</em><em>i</em> <em>s</em><em>t</em><em>a</em><em>z</em><em>i</em><em>o</em><em>n</em><em>e</em></span>)</li>
</ul></li>
<li><p><strong>Controlled Aloha o a back-off esponenziale</strong></p>
<ul>
<li>Per risolvere l’instabilità si pone <span
class="math inline"><em>T</em><sub><em>b</em></sub> = <em>T</em><sub>0</sub></span>
e ogni volta si raddoppia <span
class="math inline"><em>T</em><sub><em>b</em></sub></span></li>
<li>Quando si invia il messaggio si riporta <span
class="math inline"><em>T</em><sub><em>b</em></sub> = <em>T</em><sub>0</sub></span></li>
<li>Nel caso slotted si può dimezzare <span
class="math inline"><em>p</em><sub><em>b</em></sub></span> a ogni
collisione</li>
<li>Causa problemi di <strong>fairness</strong> una stazione può venire
tagliata fuori dalle trasmissioni.</li>
</ul></li>
</ul>
<h3 id="derivati-del-protocollo-aloha">Derivati del protocollo
ALOHA</h3>
<ul>
<li><strong>Applicazioni</strong>: Utilizzabile su qualsiasi mezzo
trasmissivo e topologia ed è adatto per reti con alti ritardi di
propagazione (es. satelliti).</li>
<li><strong>CSMA</strong> (Carrier Sensing Multiple Access):
<ul>
<li>Sfrutta la rilevazione di segnale sul canale prima della
trasmissione.</li>
<li>Prevede algoritmi di back-off in caso di collisione.</li>
</ul></li>
</ul>
<h2 id="csma-carrier-sensing-multiple-access">CSMA (Carrier Sensing
Multiple Access)</h2>
<h3 id="principi-di-funzionamento">Principi di funzionamento</h3>
<ul>
<li><strong>Carrier sensing</strong>:
<ul>
<li>Ogni stazione prima di trasmettere rileva la presenza di segnali sul
bus condiviso.<br />
</li>
<li>La trasmissione avviene solo se il bus risulta libero.<br />
</li>
<li>Se il bus è <strong>occupato</strong>, la stazione <strong>aspetta
la fine della trasmissione</strong> in corso.
<ul>
<li><strong>Caso 1-persistent</strong>: la stazione trasmette
immediatamente dopo che il bus si libera.<br />
</li>
<li><strong>Caso non-persistent o 0-persistent</strong>: la stazione
attiva un algoritmo di back-off per evitare collisioni.<br />
</li>
<li><strong>Caso p-persistent</strong>: la stazione trasmette con una
probabilità <span class="math inline"><em>p</em></span> e, in caso
contrario, attiva l’algoritmo di back-off.</li>
</ul></li>
</ul></li>
</ul>
<h3 id="gestione-delle-collisioni">Gestione delle collisioni</h3>
<ul>
<li>Durante la trasmissione, i dati inviati <strong>possono
collidere</strong> con quelli di un’altra stazione per via del ritardo
di propagazione non nullo tra le stazioni.<br />
</li>
<li>Sul bus manca un meccanismo immediato per rilevare le collisioni è
dunque necessario affidarsi a sistemi come gli <strong>Acknowledgements
(ACK)</strong> per rilevare e gestire errori di trasmissione.</li>
</ul>
<h3 id="algoritmo-di-back-off">Algoritmo di back-off</h3>
<ul>
<li><p>Simile a quello utilizzato nel protocollo Aloha e richiede che il
tempo di back-off (<span
class="math inline"><em>T</em><sub><em>b</em></sub></span>) sia maggiore
di due volte il tempo di propagazione (<span
class="math inline">2<em>τ</em></span>).<br />
<strong>Esempio</strong></p></li>
<li><p>Tempo di propagazione + rempo per rilevare segnale<span
class="math inline">→ <em>τ</em></span> A,Z due stazioni più
distanti</p></li>
<li><p>A esegue carrier sensing a <span
class="math inline"><em>t</em><sub><em>a</em></sub></span> e Z fra <span
class="math inline"><em>t</em><sub><em>a</em></sub></span> e <span
class="math inline"><em>t</em><sub><em>a</em></sub> + <em>τ</em></span>
quindi non rileva niente e c’è collisione.</p></li>
<li><p>Intervallo di vulnerabilità = <span
class="math inline">2<em>τ</em></span></p></li>
<li><p>Prestazioni migliori di Aloha quando <span
class="math inline"><em>τ</em>/<em>T</em> &lt; 1</span></p></li>
</ul>
<h3 id="versione-slotted-del-csma">Versione slotted del CSMA:</h3>
<ul>
<li>Utilizza uno <strong>slot</strong> temporale pari a <span
class="math inline"><em>τ</em></span>.<br />
</li>
<li>L’<strong>intervallo di vulnerabilità</strong> si riduce da <span
class="math inline">2<em>τ</em></span> a <span
class="math inline"><em>τ</em></span>.<br />
</li>
<li>Nonostante ciò, permangono problemi di stabilità, tipici dei
protocolli a contesa.<br />
</li>
<li>Può essere adottato un algoritmo di back-off esponenziale per
<strong>migliorare</strong> la <strong>gestione</strong> delle
<strong>collisioni</strong>.</li>
</ul>
<div style="text-align: center;">
<img src="./img/CSMA.png" alt="Diagramma di rete" width="300">
<p>
CSMA
</p>
</div>
<h3
id="csmacd-carrier-sensing-multiple-access-with-collision-detection">CSMA/CD
(Carrier Sensing Multiple Access with Collision Detection)</h3>
<p>Migliora il protocollo permettendo il rilevamento immediato delle
collisioni e rappresenta lo standard de facto per le reti LAN grazie
alla semplicità e robustezza del protocollo.</p>
<div style="text-align: center;">
<img src="./img/CSMA-CD.png" alt="Diagramma di rete" width="300">
<p>
CSMA-CD
</p>
</div>
<ul>
<li><strong>Collision Detection (CD):</strong> Una stazione monitora il
canale durante la trasmissione per rilevare variazioni di potenza
(indicative di collisioni), il tutto è facilitato dall’uso della
<strong>codifica di Manchester</strong>, che garantisce transizioni
regolari del segnale.<br />
</li>
<li><strong>In caso di collisione:</strong> La stazione interrompe
subito la trasmissione per evitare sprechi di banda ed invia una
sequenza di bits chiamata <strong>jamming signal</strong> per avvisare
le altre stazioni della collisione.<br />
</li>
<li><strong>Vantaggi rispetto al CSMA:</strong> In caso di collisione,
il canale è inutilizzato solo per l’intervallo di vulnerabilità (<span
class="math inline"><em>τ</em></span>) e per il tempo di rilevamento
della collisione e della sequenza di jamming (<span
class="math inline"><em>T</em><sub><em>C</em><em>D</em></sub></span>)
mentre nel CSMA puro il canale restava inutilizzato per un tempo pari
all’intera durata della trama (<span
class="math inline"><em>T</em></span>).</li>
</ul>
<div style="text-align: center;">
<img src="./img/CSMA_vs_CSMA-CD.png
" alt="Diagramma di rete" width="300">
<p>
CSMA vs CSMA-CD
</p>
</div>
<h3 id="codifica-di-manchester">Codifica di Manchester</h3>
<p>la codifica di Manchester è un metodo robusto e affidabile per
rappresentare i dati, particolarmente adatto a scenari come il CSMA/CD
in Ethernet.</p>
<p>Dato che difficilimente due calcolatori trasmettono lo stesso
messaggio, se ci sono collisioni ci si accorge facilmente grazie al
fatto che il segnale nel tempo di clock non corrisponde ne a 0 ne 1.</p>
<ul>
<li><p><strong>Caratteristiche del segnale:</strong></p>
<ul>
<li><strong>Bit “0” logico</strong>: Segnale basso per metà tempo del
simbolo e alto per l’altra metà.<br />
</li>
<li><strong>Bit “1” logico</strong>: Segnale alto per metà tempo del
simbolo e basso per l’altra metà.<br />
</li>
</ul></li>
<li><p><strong>Vantaggi:</strong></p>
<ul>
<li>Ogni bit ha una transizione centrale che facilita:
<ul>
<li><strong>Sincronizzazione</strong>: semplifica l’acquisizione del
clock.<br />
</li>
<li><strong>Carrier sensing</strong> e <strong>collision
detection</strong>.<br />
</li>
</ul></li>
<li>Simboli aggiuntivi (alto-alto e basso-basso) rappresentano segnali
di non-dati.<br />
</li>
</ul></li>
<li><p><strong>Svantaggi:</strong> La necessità di un clock al doppio
della velocità di trasmissione: per 10 Mbit/s serve un clock a 20
MHz.</p></li>
</ul>
<h2 id="token-ring-e-ieee-802.5-tutto-da-skippare">Token Ring e IEEE
802.5 (tutto da skippare)</h2>
<h3 id="token-ring">Token Ring</h3>
<p>HA topologia fisica a <strong>stella</strong>, ma logica ad
<strong>anello</strong> ed è basato sul concetto di
<strong>token</strong>, ovvero un diritto di trasmissione che circola
lungo l’anello. Ogni stazione attende il passaggio di un token libero
che una volta ricevuto permetterà alla stazione di aggiunge i dati da
trasmettere per poi rilasciare il token una volta completata la
trasmissione.</p>
<ul>
<li>bit rates: 4 Mbit/s (vecchie versioni), 16 Mbit/s</li>
</ul>
<h3 id="definizioni-dei-tempi-principali-nel-token-ring">Definizioni dei
tempi principali nel Token Ring</h3>
<ol type="1">
<li><strong>Tempo di trasmissione (<span
class="math inline"><em>T</em></span>)</strong>: È il tempo necessario
per trasmettere una trama di lunghezza massima e dipende dalla velocità
di trasmissione della rete e dalla dimensione massima della trama
consentita.<br />
</li>
<li><strong>Tempo di accesso (<span
class="math inline"><em>T</em><sub><em>a</em><em>c</em><em>c</em></sub></span>)</strong>:
È il tempo che una stazione deve attendere per vedere il token libero e
quindi poter trasmettere. In presenza di <span
class="math inline"><em>n</em></span> stazioni al meglio la stazione
attende solo il rilascio del token dalla stazione precedente al peggio:
deve aspettare che tutte le <span
class="math inline"><em>n</em> − 1</span> stazioni utilizzino il
token.</li>
</ol>
<ul>
<li>Formula:</li>
</ul>
<p><span
class="math display"><em>T</em><sub><em>a</em><em>c</em><em>c</em></sub> = <em>T</em><sub>1</sub> + <em>T</em><sub>2</sub> ≤ <em>n</em> ⋅ <em>T</em><sub><em>H</em><em>T</em></sub> + <em>T</em><sub><em>l</em><em>a</em><em>t</em></sub></span>
Dove:</p>
<ul>
<li><span class="math inline"><em>T</em><sub>1</sub></span>: tempo per
il rilascio del token dalla stazione corrente.<br />
</li>
<li><span class="math inline"><em>T</em><sub>2</sub></span>: tempo per
il ritorno del token.</li>
</ul>
<ol start="3" type="1">
<li><strong>Tempo di latenza (<span
class="math inline"><em>T</em><sub><em>l</em><em>a</em><em>t</em></sub></span>)</strong>:
È il tempo impiegato da un bit per completare un giro completo
dell’anello e dipende dalla lunghezza fisica dell’anello e dal ritardo
introdotto dalle stazioni.</li>
<li><strong>Tempo di detenzione del token (<span
class="math inline"><em>T</em><sub><em>H</em><em>T</em></sub></span>)</strong>:
È il tempo massimo durante il quale una stazione può trattenere il token
per trasmettere dati ed è determinato dalla dimensione massima delle
trame e dalle strategie di rigenerazione del token.<br />
</li>
<li><strong>Tempo di rotazione del token (<span
class="math inline"><em>T</em><sub><em>R</em><em>T</em></sub></span>)</strong>:
È il tempo impiegato dal token per compiere un giro completo
dell’anello, include il tempo di detenzione (<span
class="math inline"><em>T</em><sub><em>H</em><em>T</em></sub></span>)
delle <span class="math inline"><em>n</em></span> stazioni e il tempo di
latenza (<span
class="math inline"><em>T</em><sub><em>l</em><em>a</em><em>t</em></sub></span>):</li>
</ol>
<p><span
class="math display"><em>T</em><sub><em>R</em><em>T</em></sub> = <em>n</em> ⋅ <em>T</em><sub><em>H</em><em>T</em></sub> + <em>T</em><sub><em>l</em><em>a</em><em>t</em></sub></span></p>
<h3 id="rimozione-delle-trame-nellanello">Rimozione delle trame
nell’anello</h3>
<p><strong>Necessità di rimozione</strong>: Ogni trama deve essere
rimossa dall’anello una volta che è stata ricevuta per evitare
congestione.<br />
<strong>Modalità di rimozione</strong>:</p>
<ul>
<li><p><strong>Diffusiva</strong>: La trama viene rimossa dalla
<strong>stazione trasmittente</strong> che libera anche il token, c’è la
possibilità di aggiungere un <strong>ACK</strong> alla trama da parte
della stazione ricevente.</p></li>
<li><p><strong>Parzialmente diffusiva</strong>: La trama viene rimossa
dalla <strong>stazione ricevente</strong> che libera anche il
token.<br />
Vantaggi:</p>
<ul>
<li>il token si libera più velocemente.</li>
</ul>
<p>Svantaggi:</p>
<ul>
<li>Cambiamento dell’ordine di trasmissione.<br />
</li>
<li>Aumento del tempo di latenza.<br />
</li>
<li>Maggiore aleatorietà nel tempo di accesso.</li>
<li>Mancanza di verifica della corretta trasmissione.<br />
</li>
<li>Aumento del tempo di latenza a causa della necessità di leggere
l’indirizzo del destinatario.</li>
</ul></li>
</ul>
<h3 id="strategie-di-rigenerazione-del-token">Strategie di rigenerazione
del token</h3>
<p>La rigenerazione del token nel Token Ring è il meccanismo attraverso
cui la rete si autoregola per recuperare dalla perdita o corruzione del
token, mantenendo il flusso ordinato e controllato delle trasmissioni. È
un elemento fondamentale per:</p>
<ul>
<li><strong>Prevenire stalli</strong> (il token si blocca in un nodo non
funzionante).</li>
<li><strong>Evitare conflitti</strong> Rigenerare il token in modo
controllato assicura che ci sia sempre un unico token valido.</li>
</ul>
<ol type="1">
<li><strong>Single Frame</strong>: Il token viene rigenerato quando la
stazione trasmittente ha ricevuto l’intera trama trasmessa.<br />
</li>
<li><strong>Single Token</strong>: Il token viene rigenerato quando la
stazione trasmittente ha ricevuto il token associato alla trama.<br />
</li>
<li><strong>Multiple Token</strong>: Il token viene rigenerato subito
dopo la trasmissione della trama, risulta efficiente solo quando <span
class="math inline"><em>T</em><sub><em>l</em><em>a</em><em>t</em></sub></span>
è maggiore del tempo di trasmissione (<span
class="math inline"><em>T</em></span>).</li>
</ol>
<div style="text-align: center;">
<img src="./img/rigenerazione_token.png
" alt="Diagramma di rete" width="300">
<p>
rigenerazione token
</p>
</div>
<h3 id="monitor-nel-token-ring">Monitor nel Token Ring</h3>
<ol type="1">
<li><strong>Ruolo del monitor</strong>: È responsabile della gestione
delle emergenze causate da malfunzionamenti delle stazioni rimuovendo le
trame errate o duplicate dall’anello.<br />
</li>
<li><strong>Problematiche gestite</strong>:
<ul>
<li><strong>Trama non rimossa</strong>: Se una stazione non rimuove una
trama, che continua a circolare il monitor identifica la trama tramite
un bit <span class="math inline"><em>M</em></span> e la rimuove se
necessario.<br />
</li>
<li><strong>Token perduto o duplicato</strong>: In assenza di un token
valido, il monitor genera un nuovo token in caso di token duplicato, il
monitor elimina quello superfluo.<br />
</li>
</ul></li>
<li><strong>Implementazione del bit <span
class="math inline"><em>M</em></span></strong>: Per rimuoverla il
Monitor dispone di un bit M nel campo token, che è sempre 0 quando un
nuovo token viene generato e viene marcato a 1 dal monitor ogni volta
che questo riceve.</li>
</ol>
<h3 id="sincronizzazione-nel-token-ring">Sincronizzazione nel Token
Ring</h3>
<ol type="1">
<li><strong>Sincronizzazione asservita</strong>: Ogni stazione si
sincronizza con il segnale ricevuto e lo utilizza per ritrasmettere i
dati.<br />
</li>
<li><strong>Buffer elastico</strong>: Una stazione (spesso il monitor)
gestisce un buffer elastico per mantenere il sincronismo.<br />
</li>
<li><strong>Problemi di latenza</strong>: La ritrasmissione immediata di
ogni bit aiuta a minimizzare il tempo di latenza ma potrebbe
ritrasmettere errori.</li>
</ol>
<h3 id="token-bus">Token Bus</h3>
<ol type="1">
<li><strong>Principio di funzionamento</strong>: Simula un anello logico
su una topologia fisica a bus in questa topologia logica ogni stazione
ha un predecessore e un successore logici.<br />
</li>
<li><strong>Gestione dinamica</strong>: La stazione corrente effettua un
<strong>polling</strong> per <strong>invitare</strong> le stazioni che
vogliono entrare nella rete mentre coloro che vogliono
<strong>uscire</strong> <strong>comunicano</strong> la loro intenzione
al predecessore e al successore.<br />
</li>
<li><strong>Vantaggi rispetto al Token Ring</strong>: Ciò migliora la
flessibilità nella gestione delle stazioni ed è decisamente più adatto
per applicazioni real-time grazie all’assenza di collisioni.</li>
</ol>
<h3 id="confronto-tra-protocolli-a-contesa-e-collision-free">Confronto
tra protocolli a contesa e collision-free</h3>
<ol type="1">
<li><p><strong>Protocolli a contesa</strong> (es. CSMA):</p>
<ul>
<li><strong>Vantaggi</strong>: Semplicità di implementazione e maggiore
efficienza a basso traffico.<br />
</li>
<li><strong>Svantaggi</strong>: Collisioni e aleatorietà nei tempi di
trasmissione.<br />
</li>
</ul></li>
<li><p><strong>Protocolli collision-free</strong> (es. Token Ring, Token
Bus):</p>
<ul>
<li><strong>Vantaggi</strong>: Determinismo nei tempi di consegna delle
trame, non presentano problemi di stabilità ed utilizzo ottimizzato del
canale ad alto traffico.<br />
</li>
<li><strong>Svantaggi</strong>: Maggiore complessità ed esposizione ai
guasti del monitor.</li>
</ul></li>
</ol>
<h2 id="progetto-ieee-802-finer-skip">Progetto IEEE 802 (finer skip
!!!)</h2>
<p><strong>Obiettivi:</strong></p>
<ul>
<li>Creato nel 1980 per definire standard per reti locali (LAN).<br />
</li>
<li>Introduzione di una struttura gerarchica:<br />
</li>
<li><strong>Strato 2 (Data Link Layer)</strong> diviso in:
<ul>
<li><strong>LLC (Logical Link Control)</strong>: indipendente dal mezzo
fisico e dalla topologia.<br />
</li>
<li><strong>MAC (Medium Access Control)</strong>: specifico per il mezzo
e il protocollo di accesso.</li>
</ul></li>
</ul>
<p><strong>Standard principali:</strong></p>
<ul>
<li><strong>IEEE 802.3</strong>: Basato su CSMA/CD, ispirato a
Ethernet.</li>
<li><strong>IEEE 802.5</strong>: Basato su Token Ring.<br />
</li>
<li><strong>IEEE 802.11</strong>: Wireless LAN (WLAN).<br />
</li>
<li><strong>IEEE 802.15</strong>: Personal Area Networks
(Bluetooth).</li>
</ul>
<h2 id="rete-ethernet">Rete Ethernet</h2>
<p>Ethernet è una tecnologia di rete sviluppata inizialmente dalla Xerox
nel 1976. Successivamente, un consorzio formato da Digital Equipment
Corporation (DEC), Intel e Xerox ha contribuito al suo sviluppo.</p>
<h3 id="sviluppo-e-standardizzazione">Sviluppo e Standardizzazione</h3>
<ul>
<li><strong>1978</strong>: Il consorzio sviluppa lo standard a 10 Mbit/s
chiamato <strong>DIX</strong>.</li>
<li><strong>1983</strong>: Il DIX diventa, con poche modifiche, lo
standard <strong>IEEE 802.3</strong>.</li>
</ul>
<h3 id="protocollo-di-accesso-csmacd">Protocollo di Accesso:
CSMA/CD</h3>
<ul>
<li><strong>CSMA/CD</strong>: Carrier Sensing Multiple Access with
Collision Detection.
<ul>
<li>Limita, ma non elimina, la possibilità che due stazioni trasmettano
contemporaneamente.</li>
<li>Le collisioni possono verificarsi, risultando in perdita di trame
(PDU di livello 2).</li>
<li>Permette un utilizzo efficiente della banda disponibile.</li>
<li>Non garantisce tempi di consegna certi per le trame (ritardo di
accesso).</li>
</ul></li>
</ul>
<h3 id="slot-time">Slot Time</h3>
<ul>
<li><strong>Slot Time</strong>: Tempo necessario per trasmettere:
<ul>
<li>512 bit in reti a 10 e 100 Mbit/s.</li>
<li>4096 bit in reti a 1 Gbit/s.</li>
</ul></li>
<li>La trama deve avere una dimensione minima uguale allo slot
time.</li>
<li>Lo slot time deve essere superiore alla somma:
<ul>
<li>Del tempo di andata e ritorno del segnale.</li>
<li>Del tempo necessario per rilevare la collisione e lanciare la
sequenza di jamming.</li>
</ul></li>
<li><strong>Sequenza di Jamming</strong>: 33 bit.
<ul>
<li>Deve essere abbastanza lunga da garantire il riconoscimento di una
collisione nel circuito di CD.</li>
</ul></li>
</ul>
<h4 id="dimensione-dello-slot-time">Dimensione dello Slot Time</h4>
<ul>
<li>Ogni trama di dimensione inferiore allo slot time viene
scartata.</li>
<li>Impone il tempo di propagazione massimo.</li>
</ul>
<div style="text-align: center;">
<img src="./img/formato_frame_ethernet_e_IEEE802.3.png
" alt="Diagramma di rete" width="300">
<p>
formato pacchetto ethernet
</p>
</div>
<h3 id="campi-del-frame-ethernetieee-802.3">Campi del Frame
Ethernet/IEEE 802.3</h3>
<h4 id="preamble"><strong>Preamble</strong></h4>
<ul>
<li><strong>Descrizione</strong>: Sequenza di 7 byte uguali a
<code>10101010</code>.</li>
<li><strong>Funzione</strong>: Genera un’onda quadra a 10 MHz per 5,6 μs
a 10 Mbps, sincronizzando il clock del ricevitore con quello del
trasmettitore.</li>
</ul>
<h4 id="sfd-start-frame-delimiter"><strong>SFD (Start Frame
Delimiter)</strong></h4>
<ul>
<li><strong>Descrizione</strong>: Byte uguale a
<code>10101011</code>.</li>
<li><strong>Funzione</strong>: Indica l’inizio del frame.</li>
</ul>
<h4 id="lunghezza-tipo"><strong>Lunghezza / Tipo</strong></h4>
<ul>
<li><strong>In IEEE 802.3</strong>:
<ul>
<li>Specifica il numero di byte nel campo dati (valore da 0 a
1500).</li>
<li><strong>Nota</strong>: I primi 4 bit del campo sono sempre
<code>0</code>.</li>
</ul></li>
<li><strong>In Ethernet</strong>:
<ul>
<li>Indica il tipo di payload contenuto nel campo dati.</li>
<li><strong>Nota</strong>: Almeno uno dei primi 4 bit è diverso da
<code>0</code>.</li>
</ul></li>
</ul>
<h4 id="dati"><strong>Dati</strong></h4>
<ul>
<li>Contiene il payload (messaggio pulito senza headere e controllo
errore) proveniente dal livello superiore del modello OSI.</li>
</ul>
<h4 id="pad"><strong>Pad</strong></h4>
<ul>
<li><strong>Descrizione</strong>: Campo di riempimento.</li>
<li><strong>Funzione</strong>: Se il frame (esclusi preambolo e
delimiter) è più corto di 64 byte, viene riempito fino a raggiungere
questa lunghezza.</li>
</ul>
<h4 id="frame-checking-sequence-fcs"><strong>Frame Checking Sequence
(FCS)</strong></h4>
<ul>
<li><strong>Descrizione</strong>: Campo per il controllo degli
errori.</li>
<li><strong>Funzione</strong>: Include un codice di ridondanza basato su
un polinomio di grado 32 per rilevare errori.</li>
</ul>
<h4 id="indirizzi"><strong>Indirizzi</strong></h4>
<p><strong>Descrizione</strong>: Identificatori univoci a livello
mondiale di 48 bit (6 byte).</p>
<ul>
<li><strong>Struttura</strong>:
<ul>
<li>I primi 3 byte identificano il produttore.</li>
<li>Gli ultimi 3 byte numerano progressivamente le schede.</li>
</ul></li>
<li><strong>Tipi di indirizzi</strong>:
<ul>
<li><strong>Unicast</strong>: Indirizzo di un singolo destinatario, es.
<code>00-60-b0-78-e8-fd</code>.</li>
<li><strong>Multicast</strong>: Indirizzo di gruppo (il primo bit è
<code>1</code>).</li>
<li><strong>Broadcast</strong>: Invio a tutte le stazioni, es.
<code>ff-ff-ff-ff-ff-ff</code>.</li>
</ul></li>
</ul>
<h3 id="delimitazione-trame">Delimitazione trame</h3>
<ul>
<li>No trame = no segnale</li>
<li>Preambolo di sincronismo = inizio</li>
<li>assenza segnale = termine frame</li>
<li>Due frae devono essere separati almeno da un Inter-Frame Gape (IFG)
<ul>
<li>96 tempi di bit</li>
</ul></li>
</ul>
<h3 id="collision-domain-e-broadcast-domain">Collision Domain e
Broadcast Domain</h3>
<ol type="1">
<li><strong>Collision Domain:</strong> Area in cui le stazioni possono
collidere durante la trasmissione, leimensioni dipendono dalla velocità
di trasmissione e dalla dimensione delle trame.</li>
<li><strong>Broadcast Domain:</strong> Insieme di stazioni che ricevono
una trama con <strong>Destination Address: ff-ff-ff-ff-ff-ff</strong>,
normalmente coincidente con una singola LAN.</li>
</ol>
<h3 id="evoluzione-dellethernet">Evoluzione dell’Ethernet</h3>
<h4 id="ethernet-classica-a-10-mbits">Ethernet Classica a <em>10
Mbit/s</em></h4>
<ul>
<li><strong>10base5 (Thick Wire):</strong>
<ul>
<li>Utilizza cavi coassiali spessi con segmenti lunghi fino a 500 metri,
supportando un massimo di 100 stazioni.</li>
<li>Le stazioni sono connesse mediante transceiver (collegati tramite
“drop cable”).</li>
<li>Sebbene robusta, questa tecnologia richiedeva cavi rigidi e
difficili da installare, rendendola meno pratica nei cablaggi moderni o
in edifici.</li>
</ul></li>
<li><strong>10base2 (Thin Wire):</strong>
<ul>
<li>Sfrutta un cavo coassiale più sottile e flessibile, consentendo
segmenti di lunghezza massima di 180 metri e un massimo di 30
stazioni.</li>
<li>Le stazioni sono collegate in serie (topologia “a catena”) tramite
connettori BNC e connettori a T.</li>
<li>Richiede l’uso di terminatori per evitare riflessioni del
segnale.</li>
</ul></li>
<li><strong>10baseT (Twisted Pair):</strong>
<ul>
<li>Utilizza cavi <strong>UTP</strong> (Unshielded Twisted Pair) di
categoria 3, con lunghezza massima di 100 metri per singolo
collegamento.</li>
<li>Ogni stazione è connessa a un hub tramite connettori RJ45, formando
una topologia a stella.</li>
<li>Gli hub funzionano da multiport repeater, permettendo una gestione
più semplice rispetto alle soluzioni basate su cavo coassiale.</li>
</ul></li>
<li><strong>10baseF (Fibra Ottica):</strong>
<ul>
<li>Impiega cavi in fibra ottica multimodo, consentendo connessioni fino
a 2000 metri.</li>
<li>È spesso utilizzata per cablaggi verticali, specialmente in edifici,
ma il costo dei connettori e degli adattatori la rende una soluzione
meno comune per gli utenti finali.</li>
</ul></li>
</ul>
<h4 id="fast-ethernet-ieee-802.3u---100-mbits">Fast Ethernet (IEEE
802.3u - <em>100 Mbit/s</em>)**</h4>
<p>Introduce una maggiore velocità mantenendo la compatibilità con le
reti Ethernet classiche. Offre diverse varianti:</p>
<ul>
<li><strong>100baseT4:</strong>
<ul>
<li>Utilizza 4 coppie di cavi UTP di categoria 3, con una lunghezza
massima di 100 metri.</li>
<li>La trasmissione sfrutta una codifica <strong>8B/6T</strong>, che
converte 8 bit in 6 simboli ternari.</li>
</ul></li>
<li><strong>100baseTX:</strong>
<ul>
<li>Richiede cavi UTP di categoria 5 o superiore.</li>
<li>Utilizza 2 coppie per trasmissione dati (una per direzione) e offre
comunicazioni full-duplex fino a 100 metri.</li>
</ul></li>
<li><strong>100baseFX:</strong>
<ul>
<li>Si basa sulla fibra ottica multimodo, con una portata massima di
2000 metri.</li>
<li>È ideale per connessioni tra edifici o cablaggi backbone.</li>
</ul></li>
</ul>
<h4 id="gigabit-ethernet-ieee-802.3z---1-gbits">Gigabit Ethernet (IEEE
802.3z - 1 Gbit/s)**</h4>
<p>Progettata per incrementare la velocità a 1 Gbps mantenendo la
semplicità di Ethernet.</p>
<ul>
<li><strong>1000baseSX:</strong> Utilizza fibra ottica multimodo per
distanze fino a 550 metri.</li>
<li><strong>1000baseLX:</strong> Compatibile sia con fibra multimodo che
monomodo, estende le connessioni fino a 5000 metri con
quest’ultima.</li>
<li><strong>1000baseCX:</strong> Sfrutta 2 coppie di cavi intrecciati
schermati (STP) ma è più costosa e meno performante rispetto alla fibra
ottica.</li>
<li><strong>1000baseT:</strong> Impiega 4 coppie di cavi UTP di
categoria 5, con una lunghezza massima di 100 metri ed utilizza una
codifica innovativa che associa 2 bit a un simbolo con 5 livelli,
garantendo una velocità netta di 1 Gbps.</li>
</ul>
<h4 id="gigabit-ethernet-ieee-802.3ae">10 Gigabit Ethernet (IEEE
802.3ae)</h4>
<p>È progettata esclusivamente per la fibra ottica, con velocità dieci
volte superiori rispetto al Gigabit Ethernet.</p>
<ul>
<li><strong>Caratteristiche principali:</strong> Supporta connessioni su
fibra ottica con distanze che variano da pochi chilometri fino a diverse
decine di chilometri, a seconda del tipo di fibra e della modalità di
trasmissione. È prevalentemente utilizzata per backbone in reti
aziendali o per Metropolitan Area Networks (MAN). L’elevato costo e
l’hardware specifico rendono difficile l’adozione su larga scala per
dispositivi comuni, riservandola principalmente a infrastrutture
critiche.</li>
</ul>
<h4 id="carrier-ethernet">Carrier Ethernet</h4>
<p>Estende Ethernet oltre il contesto delle LAN per essere utilizzata
come tecnologia di trasporto nei provider di rete.</p>
<ul>
<li><strong>Nuove Funzionalità:</strong> Indirizzamento multilivello
gerarchico per migliorare la scalabilità ed introduzione di meccanismi
di segnalazione, gestione e recupero dei guasti.</li>
<li><strong>Applicazioni:</strong> È ideale per reti backbone, trasporto
su lunghe distanze e reti aziendali distribuite.</li>
<li><strong>Alternative:</strong> Lo standard IEEE 802.17 (RPR,
Resilient Packet Ring) è stato proposto come opzione alternativa per
backbone MAN.</li>
</ul>
<h3 id="cablaggio-delle-lan-moderne">Cablaggio delle LAN Moderne</h3>
<p><strong>Caratteristiche Generali:</strong></p>
<ul>
<li>Un unico cablaggio strutturato per tutti i servizi di
telecomunicazione.</li>
<li>Basato su UTP (tipicamente 4 coppie) con terminazioni RJ45 o
RJ11.</li>
<li>Standard: <strong>EIA/TIA 568</strong> e <strong>ISO
11801</strong>.</li>
</ul>
<p><strong>Struttura del Cablaggio:</strong></p>
<ul>
<li><strong>Prese a muro:</strong> punto di accesso per le
stazioni.</li>
<li><strong>Cablaggio orizzontale:</strong> collega prese a muro
all’armadio di rete (topologia a stella).</li>
<li><strong>Cablaggio verticale:</strong> connette diversi armadi di
rete (backbone).</li>
<li><strong>Armadio di rete:</strong>
<ul>
<li>Contiene switch, patch panel e altre apparecchiature attive.</li>
<li><strong>Patch panel:</strong> consente di organizzare e distribuire
le connessioni dei cavi UTP.</li>
<li><strong>Patch cord:</strong> collega le porte dei patch panel agli
switch.</li>
</ul></li>
<li><strong>Tecnologie Attive:</strong>
<ul>
<li>Switch con porte Ethernet UTP (es. 100 Mbps, 1 Gbps) o fibra ottica
per il backbone.</li>
</ul></li>
</ul>
<h2 id="wirless-lan-wi-fi">Wirless LAN (Wi-Fi)</h2>
<h3 id="standard-ieee-802.11">Standard IEEE 802.11</h3>
<ul>
<li><p>Introdotto nel 1997 per accesso radio alle reti locali.</p></li>
<li><p>Strato fisico 802.11, Trasmissione trame, interazione con MAC per
attività del canale.</p></li>
<li><p>Tecniche iniziali (1-2 Mbps): Infrarossi, FHSS, DSSS.</p></li>
<li><p>Banda ISM (2.4 GHz, 83.5 MHz): senza licenze per usi industriali,
scientifici e medici.</p></li>
<li><p>Regolamentazioni:</p>
<ul>
<li>Limiti di potenza.</li>
<li>Tecniche Spread Spectrum (FHSS: 79 canali; DSSS: gain ≥ 10 dB).</li>
</ul></li>
<li><p>Banda ISM in Italia: autorizzazione obbligatoria solo su suolo
pubblico (D.M. 28 Maggio 2003).</p></li>
<li><p><strong>Standard successivi:</strong></p>
<ul>
<li><strong>802.11a (1999):</strong> banda 5 GHz, OFDM, 12 canali da 20
MHz, bit rate da 6 a 54 Mbps.</li>
<li><strong>802.11b (1999):</strong> banda 2.4 GHz, HR-DSSS, 14 canali
(5 MHz), bit rate fino a 11 Mbps, Dynamic Rate Shifting.</li>
<li><strong>802.11g (2003):</strong> banda 2.4 GHz, OFDM/HR-DSSS, bit
rate da 1 a 54 Mbps.</li>
</ul></li>
</ul>
<h3 id="architettura-di-rete-802.11">Architettura di rete 802.11</h3>
<p><strong>Nomenclatura:</strong></p>
<ul>
<li><strong>Basic Service Set (BSS):</strong> Un insieme di stazioni
wireless che comunicano tra loro tramite un Access Point (AP).</li>
<li><strong>Access Point (AP):</strong> Dispositivo che funge da ponte
tra le stazioni wireless e la rete cablata, gestendo il traffico di
rete.</li>
<li><strong>Distribution System:</strong> Sistema di distribuzione che
collega più BSS, permettendo la comunicazione tra stazioni in diverse
BSS.</li>
<li><strong>Wireless Station:</strong> Dispositivo finale che si
connette alla rete wireless, come laptop, smartphone o tablet.</li>
</ul>
<p><strong>Modalità:</strong></p>
<ul>
<li><strong>Infrastrutturata (BSS):</strong> stazioni comunicano tramite
un Access Point (AP).</li>
<li><strong>Ad-Hoc (IBSS):</strong> comunicazione diretta tra
stazioni.</li>
</ul>
<div style="text-align: center;">
<img src="./img/BSS.png
" alt="Diagramma di rete" width="300">
<p>
Basic Service Set
</p>
</div>
<div style="text-align: center;">
<img src="./img/I-BSS.png
" alt="Diagramma di rete" width="300">
<p>
Infrastructure and Independent BSS
</p>
</div>
<div style="text-align: center;">
<img src="./img/E-BSS.png
" alt="Diagramma di rete" width="300">
<p>
Extended BSS
</p>
</div>
<div style="text-align: center;">
<img src="./img/ESS-BSS.png
" alt="Diagramma di rete" width="300">
<p>
Extended Service Ser BSS
</p>
</div>
<h3 id="problemi-di-accesso-multiplo-nelle-wlan">Problemi di accesso
multiplo nelle WLAN</h3>
<p>Problemi specifici rispetto alle LAN cablate: La natura
<strong>half-duplex</strong> (ricevere e trasmettere non in
contemporanea) delle interfacce WLAN <strong>impedisce l’uso del
collision detection</strong> perché i dispositivi non possono ascoltare
il canale mentre trasmettono, rendendo impossibile rilevare le
collisioni in tempo reale. Invece, le reti WLAN utilizzano meccanismi di
<strong>collision avoidance</strong> per gestire le trasmissioni e
ridurre le collisioni.</p>
<ul>
<li><strong>Stazione nascosta:</strong> il carrier sensing risulta
limitato.</li>
<li><strong>Stazione esposta:</strong> difficoltà nell’utilizzo del
canale.</li>
<li>Half-duplex impedisce collision detect.</li>
</ul>
<p>Accesso al canale (<strong>CSMA/CA</strong> Carrier Sense Multiple
Access with Collision Avoidance):</p>
<ul>
<li><strong>DCF (Distributed Coordination Function):</strong> accesso
distribuito (RTS/CTS per evitare collisioni, ACK per confermare trame
ricevute).</li>
<li><strong>PCF (Point Coordination Function):</strong> AP gestisce il
polling e trasmette beacon per sincronizzazione e associazione.</li>
</ul>
<h3
id="protocollo-mac-802.11-dcf-distributed-coordination-function">Protocollo
MAC 802.11 – DCF (Distributed Coordination Function)</h3>
<p><strong>Request to Send (RTS):</strong> Prima che un mittente invii
una trama, invia un RTS al destinatario. Questo avvisa le altre stazioni
che il canale sta per essere occupato e indica la durata
dell’occupazione.</p>
<p><strong>Clear to Send (CTS):</strong> Se il destinatario è pronto a
ricevere, risponde con un CTS. Questo avviso viene ricevuto anche dalle
stazioni che vedono il destinatario ma non il mittente, informandole che
il canale sarà occupato per un certo periodo.</p>
<p><strong>ACK (Acknowledgment):</strong> Solo il <strong>ricevitore può
rilevare se una trama è errata</strong>(utilizzando tecniche come
controllo di parità, il checksum o il CRC (Cyclic Redundancy Check)),
inviando un ACK al mittente per ogni trama ricevuta correttamente. Se
scade il timeout prima dell’ACK, il mittente ritrasmette la trama,
preceduta da un nuovo RTS.</p>
<p><strong>Carrier Sensing Virtuale (NAV):</strong> Le stazioni che non
vedono direttamente il canale, ma lo percepiscono attraverso il NAV,
evitano di trasmettere durante il periodo di occupazione del canale.</p>
<p><strong>Backoff Esponenziale Binario:</strong> In caso di collisione
tra RTS, viene applicato un backoff esponenziale, in cui il tempo di
attesa aumenta esponenzialmente con ogni tentativo di trasmissione
fallito (2^n).</p>
<figure>
<img src="img/802.11-DCF.png" alt="802.11-DCF" />
<figcaption aria-hidden="true">802.11-DCF</figcaption>
</figure>
<h3
id="protocollo-mac-802.11-pcf-point-coordination-function">Protocollo
MAC 802.11 – PCF (Point Coordination Function)</h3>
<p><strong>Gestione del Canale da parte dell’Access Point (AP):</strong>
In modalità infrastrutturata, l’AP gestisce il canale a polling,
assegnandolo a turno alle stazioni che devono trasmettere.</p>
<p><strong>Beaconing:</strong> L’AP invia periodicamente segnali di
beacon che consentono la sincronizzazione delle stazioni, la rilevazione
della presenza dell’AP e la possibilità di entrare nel processo di
polling.</p>
<p><strong>Scansione Canali:</strong> Quando una stazione si attiva,
scandisce i canali disponibili per cercare i beacon di un AP con cui
associarsi. Il beacon mostra anche l’SSID (se impostato), che identifica
l’AP.</p>
<p><strong>Tempi di Spaziatura tra i Frame</strong>:</p>
<ul>
<li><strong>SIFS (Short InterFrame Spacing):</strong> Utilizzato per i
frame di risposta rapida come ACK, CTS o frammenti di trama
successivi.</li>
<li><strong>PIFS (PCF InterFrame Spacing):</strong> Usato per i frame
gestiti dall’AP durante il polling.</li>
<li><strong>DIFS (DCF InterFrame Spacing):</strong> Usato per l’accesso
al canale da parte delle stazioni.</li>
<li><strong>EIFS (Extended InterFrame Spacing):</strong> Usato quando
una stazione riceve un frame inatteso, segnalando l’errore.</li>
</ul>
<figure>
<img src="img/802.11-PCF.png" alt="802.11-PCF.png" />
<figcaption aria-hidden="true">802.11-PCF.png</figcaption>
</figure>
<p>Dato che la possibilità di collisione si limita ai pacchetti di
richiesta e non ai dati veri e propri, il problema si riduce
notevolmente poiché i pacchetti sono decisamente più piccoli e dunque
temporalmente meno lunghi da trasmettere.</p>
<p><strong>Struttura della Trama</strong> La struttura della trama
presenta quattro campi per gli indirizzi. Questo è dovuto al fatto che
la consegna avviene in maniera indiretta tra mittente e ricevente. A
differenza del modello IP, dove utilizziamo il data link, qui dobbiamo
salvare gli indirizzi dell’intermediario, ovvero l’<strong>access
point</strong> (indirizzo 3). Inoltre, qualora fossimo in un
<strong>Wireless Distribution System</strong>, ci servirà anche un
secondo access point (indirizzo 4).</p>
<p><strong>BSSID</strong> Il BSSID (Basic Service Set Identifier) è un
identificatore univoco utilizzato nelle reti Wi-Fi per distinguere una
rete wireless specifica. È simile a un indirizzo MAC e identifica un
punto di accesso (AP) o una rete ad-hoc. Il BSSID è fondamentale per la
gestione delle connessioni wireless, permettendo ai dispositivi di
identificare e connettersi alla rete corretta. È composto da 48 bit e
viene trasmesso nei beacon frames per il riconoscimento della rete.</p>
<h3 id="indirizzamento">Indirizzamento</h3>
<p><strong>Significato acronimi</strong></p>
<ul>
<li><strong>IBSS</strong> (Independent basic service set): Rete ad-hoc
senza punto di accesso, dispositivi comunicano direttamente.</li>
<li><strong>BSS</strong> (basic service set): Rete con un singolo punto
di accesso che gestisce le connessioni.</li>
<li><strong>ESS</strong> (extended service set): Rete con più punti di
accesso collegati, permettendo il roaming tra AP.</li>
</ul>
<p><strong>IBSS (Ad-Hoc):</strong></p>
<ul>
<li>SA = Mittente e trasmettitore<br />
</li>
<li>DA = Destinatario e ricevitore<br />
</li>
<li>Address 1 = DA, Address 2 = SA<br />
</li>
<li>BSSID = Casuale, generato da una stazione dell’IBSS</li>
</ul>
<figure>
<img src="img/ibss.png" alt="ibss" />
<figcaption aria-hidden="true">ibss</figcaption>
</figure>
<p><strong>BSS/ESS (Uplink verso LAN):</strong></p>
<ul>
<li>SA = Mittente e trasmettitore<br />
</li>
<li>DA = Destinatario<br />
</li>
<li>Address 1 = BSSID (Indirizzo MAC dell’AP)<br />
</li>
<li>To DS = 1, From DS = 0</li>
</ul>
<figure>
<img src="img/bss_ess_uplink.png" alt="bss_ess_uplink" />
<figcaption aria-hidden="true">bss_ess_uplink</figcaption>
</figure>
<p><strong>BSS/ESS (Downlink da LAN):</strong></p>
<ul>
<li>SA = Mittente<br />
</li>
<li>DA = Destinatario e ricevitore<br />
</li>
<li>Address 1 = DA, Address 2 = BSSID (AP)<br />
</li>
<li>To DS = 0, From DS = 1</li>
</ul>
<figure>
<img src="img/bss_ess_downlink.png" alt="bss_ess_downlink" />
<figcaption aria-hidden="true">bss_ess_downlink</figcaption>
</figure>
<p><strong>ESS con Wireless Distribution System:</strong></p>
<ul>
<li>SA = Mittente, DA = Destinatario<br />
</li>
<li>Address 1 = RA (Ricevitore), Address 2 = TA (Trasmettitore)<br />
</li>
<li>To DS = 1, From DS = 1</li>
</ul>
<figure>
<img src="img/ESS_WDS.png" alt="ESS_WDS" />
<figcaption aria-hidden="true">ESS_WDS</figcaption>
</figure>
<h2 id="interconnessione-di-lan">Interconnessione di LAN</h2>
<p><strong>Apparati di interconnessione:</strong></p>
<ul>
<li><p><strong>Repeater:</strong></p>
<ul>
<li>Livello 1 OSI, rigenera segnali.</li>
<li>Estende la topologia LAN (entro i limiti di standard, es. 2500m in
Ethernet).</li>
</ul></li>
<li><p><strong>Bridge:</strong></p>
<ul>
<li>Livello 2 OSI, separa domini di collisione.</li>
<li>Learning bridge: impara gli indirizzi sorgenti per filtrare le
trame.</li>
<li>Fa traduzione diretta dato che i due protocolli hanno la stessa
semantica.</li>
</ul>
<figure>
<img src="img/bridge.PNG" alt="bridge" />
<figcaption aria-hidden="true">bridge</figcaption>
</figure>
<p><strong>Switch:</strong></p>
<ul>
<li>Bridge multiporta, commutazione su indirizzi MAC.</li>
<li>Permette comunicazioni simultanee migliorando prestazioni rispetto
agli hub.</li>
<li>Capacità aggregata superiore (es. switch Fast Ethernet: 200 Mbps vs
100 Mbps degli hub).</li>
</ul></li>
</ul>
<p><strong>Differenze Hub vs Switch:</strong></p>
<ul>
<li><p><strong>Hub:</strong> bus condiviso, trasmissione
broadcast.</p></li>
<li><p><strong>Switch:</strong> selettività nella ritrasmissione,
maggiore capacità aggregata.</p>
<figure>
<img src="img/switch.PNG" alt="bridge" />
<figcaption aria-hidden="true">bridge</figcaption>
</figure></li>
</ul>
<hr />
